try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="361aa275-b440-40e6-9bda-d8b0b4260f53",e._sentryDebugIdIdentifier="sentry-dbid-361aa275-b440-40e6-9bda-d8b0b4260f53")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{1169:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});let i="https://open.spotify.com"},4389:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var i=n(51580),a=n.n(i);function r(){let e=a().getParser(window.navigator.userAgent),t=function(e){switch(e){case"macOS":return"osx";case"Chrome OS":return"chrome";default:return e}}(e.getOSName()||"not_applicable"),n=function(e,t){if("Windows"===e)switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return""}return t}(t,e.getOSVersion());return{osName:t,osVersion:n,browserName:e.getBrowserName(),browserVersion:e.getBrowserVersion()}}},5198:(e,t,n)=>{"use strict";n.d(t,{M:()=>T});var i=n(7765),a=n(4209),r=n(7245),s=n(31493),o=n(46001),l=n.n(o),d=n(15977),c=n(30451),u=n(10903),p=n(37787),m=n(77228);let _=async(e,t,n)=>{let{utmParameters:i,customData:a,linkPreview:r}=n,s=await e.build().withHost("https://spclient.wg.spotify.com/url-dispenser/v1").withPath("/generate-url").withMethod("POST").withJsonContentType().withoutMarket().withEndpointIdentifier("/v1/generate-url").withBody({spotify_uri:t,custom_data:a,link_preview:r,utm_parameters:i}).send();if(201===s.status)return s.body;throw Error(`Failed to get short link for uri ${t}`)},h=async(e,t)=>(await _(e,t,{}).catch(()=>({shareable_url:(0,m.o_h)(t)?.toURL()}))).shareable_url??null;var y=n(64667),v=n(8233),k=n(60360);async function f(e){if("clipboard"in navigator&&navigator.clipboard)try{if("string"==typeof e)return await new Promise((t,n)=>setTimeout(()=>{navigator.clipboard.writeText(e).then(t).catch(n)},0));let t=await e;return await navigator.clipboard.writeText(t)}catch(t){let e=t instanceof Error?t.message:String(t);throw Error(`Failed to copy to clipboard using Clipboard API. ${e}`)}throw Error("Clipboard API is not available")}var b=n(33839),g=n.n(b),E=n(74386);let T=e=>{let{handleStandaloneCopyItem:t,showFallbackCopy:n=!1}=e,o=(0,c.d4)(k.M0),[m,_]=(0,d.useState)(!1),[b,T]=(0,d.useState)(!1),[w,S]=(0,d.useState)(null),x=(0,v.j)(),{isCompactLegacy:N}=(0,u.o)(),C=(0,s.kj)(),A=(0,c.d4)(e=>e.settings.isVideoEmbed),j=((e,t)=>t?e("embed_success_share_link","Copied to clipboard","Text on a button when an entity link was copied to a clipboard"):e("spe.copy_link","Copy link","Text on a button to copy an entity link to the clipboard"))(C,m),P=async e=>{if(n)setTimeout(()=>{document.execCommand("copy")},0),_(!0);else try{await f(e),_(!0)}catch{A&&t&&t(e)}x((0,y.d)({action_type:"click",action_intent:"clipboard-copy"}))},L=async()=>{if(!m&&o)if(w)await P(w);else{let e=await h(p.n.getInstance(),o);e&&await P(e),S(e)}};return((0,d.useEffect)(()=>{m&&setTimeout(()=>{_(!1),T(!0)},2e3)},[m]),(0,d.useEffect)(()=>{S(null)},[o]),n)?(0,i.jsx)(a.H,{disabled:!o,onClick:L,condensedAll:!0,semanticColor:"textBase",className:l()({[g().clicked]:m,[g().unclicked]:b}),"data-testid":"copy-link-fallback-button",children:j}):(0,i.jsx)(E.D,{disabled:!o,onClick:L,icon:N?void 0:r.y,variant:"bodyMedium",clickedAnimation:m,testId:"copy-link-button",children:j})}},7587:(e,t,n)=>{"use strict";n.d(t,{Y:()=>y});var i=n(7765),a=n(22185),r=n(31493),s=n(46001),o=n.n(s);n(15977);var l=n(30451),d=n(21498),c=n(68710),u=n(94282);let p=e=>{let{className:t,isPreview:n,isAudiobook:a,isTrailer:s}=e,o=(0,r.kj)(),l="";return a?l=o("audiobook.page.sample","Sample","Text on a sample tag"):n?l=o("embed_preview","Preview","Text on a preview tag"):s&&(l=o("track-trailer","Trailer","Text on a trailer tag")),(0,i.jsx)(u.v,{className:t,text:l})};var m=n(86698),_=n.n(m);let h=e=>{let{className:t,isPreview:n,isExplicit:s,isAudiobook:l,isTrailer:d}=e,u=(0,r.kj)();return(0,i.jsxs)(a.b,{condensedAll:!0,className:o()(_().tagList,t),"aria-label":u("spe.tags","Tags",'Accessibility label for a list of tags such as "Explicit" and "Preview"'),children:[(0,i.jsx)(p,{isAudiobook:l,isTrailer:d,isPreview:n,className:o()(_().tag,{[_().hidden]:!(n||d||l)})}),(0,i.jsx)(c.f,{className:o()(_().tag,{[_().hidden]:!s})})]})},y=()=>{let e=(0,l.d4)(e=>e.data.entity?.isExplicit??!1),t=(0,l.d4)(e=>e.machineState.playbackMode),n=(0,l.d4)(e=>e.data.entity?.isAudiobook??!1),a=(0,l.d4)(e=>e.data.entity?.isTrailer??!1),r=t===d.L.PREVIEW;return e||a||n||r?(0,i.jsx)(h,{isPreview:r,isExplicit:e,isAudiobook:n,isTrailer:a,className:_().condensedTags}):null}},8233:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});let i=n(30451).wA},10613:(e,t,n)=>{"use strict";n.d(t,{l:()=>v});var i=n(7765),a=n(51524),r=n(31493),s=n(46001),o=n.n(s),l=n(15977),d=n(30451),c=n(36020),u=n(96985),p=n(64667),m=n(8233),_=n(62193),h=n(76453),y=n.n(h);let v=()=>{let e=(0,d.d4)(e=>e.data.entity),{playbackState:t}=(0,l.useContext)(u.T),{metadata:n}=(0,l.useMemo)(()=>(0,c.O)(e),[e]),s=(0,d.d4)(e=>e.data.entity?.isPreRelease),h=t?.duration||Number(n?.duration),[v,k]=(0,l.useState)({dragPosition:null,showRemainingTime:!0}),f=(0,r.kj)(),{showRemainingTime:b,dragPosition:g}=v,[E,T]=(0,l.useState)(f("spe.playback-control.progress-timestamp","Progress timestamp","Accessibility label for a numeric progress display in the currently playing track, in minutes and seconds")),w=0;Number.isFinite(g)?w=g*h:t?.positionAsOfTimestamp&&(w=t?.positionAsOfTimestamp);let S="";S=t?.hasContext||t?.isPaused!==void 0?b?(0,_.A)((w||0)-h):(0,_.A)(w||0):(0,_.A)(h),(0,l.useEffect)(()=>{b?T(`${S} remaining time. Toggle to elapsed.`):T(`${S} elapsed time. Toggle to remaining.`)},[S,b]);let x=S.replace(/\d/g,"0").replace(/^\d/,"-0"),N=(0,m.j)();return(0,i.jsxs)("button",{className:o()(y().progressTimer,{[y().hideForSmallLandscape]:s}),onClick:()=>{k({...v,showRemainingTime:!v.showRemainingTime}),N((0,p.d)({action_type:"click",action_intent:"change-time-format"}))},"aria-disabled":!t?.hasContext&&t?.isPaused===void 0||t?.isPaused,tabIndex:!t?.hasContext&&t?.isPaused===void 0||t?.isPaused?-1:0,"aria-pressed":b,"aria-label":E,children:[(0,i.jsx)("span",{className:y().progressTimeSpacer,"aria-hidden":!0,children:x}),(0,i.jsx)(a.E,{className:y().actualProgressTime,"data-testid":"progress-timestamp",semanticColor:"textBase",variant:"bodySmall",children:S})]})}},10620:(e,t,n)=>{"use strict";n.d(t,{C:()=>L});var i=n(7765),a=n(77228),r=n(46001),s=n.n(r);n(15977);var o=n(30451),l=n(14597),d=n(44783),c=n(55709),u=n(31392),p=n(4209),m=n(51524),_=n(31493),h=n(10903),y=n(64667),v=n(8233),k=n(36711),f=n(79029),b=n.n(f);let g=e=>{let{saved:t,links:n,isMobile:a,savedCb:r}=e,s=(0,o.d4)(e=>{let{settings:t}=e;return t.session.isAnonymous}),l=(0,v.j)(),d=(0,_.kj)(),{isCompactLegacy:f}=(0,h.o)(),g=t?d("following","Following","Button`s text that adds an item to the user`s library"):d("follow","Follow","Button`s text that removes an item to the user`s library"),E=async()=>{s?(l((0,y.d)({action_type:"click",action_intent:"deeplink",action_item_id:"follow"})),(0,k.J)({url:n.embeddedEntity,newWindow:!a})):(l((0,y.d)({action_type:"click",action_intent:t?"unfollow":"follow"})),await r(!t))};return(0,i.jsx)("div",{className:b().followButtonWrapper,children:(0,i.jsx)(p.H,{"data-testid":"follow-button",condensedAll:!0,title:g,"aria-label":g,onClick:E,semanticColor:"textBase",size:"medium",iconLeading:f?void 0:t?c.M:u.h,className:b().followButtonButton,children:(0,i.jsx)(m.E,{variant:"bodySmallBold",className:b().followButtonText,semanticColor:"textBase","data-testid":"follow-button-label",children:g})})})};var E=n(81881),T=n(43116),w=n(79113),S=n.n(w);let x=e=>{let{isPreSaved:t,isMobile:n,preSavedCb:a,links:r}=e,l=(0,v.j)(),d=(0,o.d4)(e=>{let{settings:t}=e;return t.session.isAnonymous}),c=(0,_.kj)(),u=t?c("pre_release.button.pre_saved","Pre-saved","Label for the pre-saved button"):c("pre_release.button.pre_save","Pre-save","Label for the pre-save button"),f=async()=>{d?(l((0,y.d)({action_type:"click",action_intent:"deeplink",action_item_id:"pre-save-on-spotify-button"})),(0,k.J)({url:r.selectedEntity,newWindow:!n})):(l((0,y.d)({action_type:"click",action_intent:t?"remove-pre-save-from-spotify":"pre-save-on-spotify"})),await a(!t))};return(0,i.jsx)(p.H,{"data-testid":"pre-save-button",condensedAll:!0,title:u,"aria-label":u,iconLeading:(0,h.o)().isCompactLegacy?void 0:t?E.k:T.P,onClick:f,semanticColor:"textBase",size:"medium",className:s()(S().preSaveButton),children:(0,i.jsx)(m.E,{"data-testid":"pre-save-button-label",className:s()(S().preSaveButtonText),children:u})})};var N=n(71897),C=n.n(N);let A=e=>{let{saved:t,isMobile:n,savedCb:a,links:r}=e,s=(0,v.j)(),l=(0,o.d4)(e=>{let{settings:t}=e;return t.session.isAnonymous}),d=(0,_.kj)(),c=t?d("embed.saved-on-spotify","Saved on Spotify","Button`s text that removes an item to the user`s library"):d("embed.save-on-spotify","Save on Spotify","Button`s text that adds an item to the user`s library"),u=async()=>{l?(s((0,y.d)({action_type:"click",action_intent:"deeplink",action_item_id:"save-on-spotify-button"})),(0,k.J)({url:r.selectedEntity,newWindow:!n})):(s((0,y.d)({action_type:"click",action_intent:t?"remove-from-spotify":"save-on-spotify"})),await a(!t))};return(0,i.jsx)(p.H,{"data-testid":"save-on-spotify-button",condensedAll:!0,title:c,"aria-label":c,iconLeading:(0,h.o)().isCompactLegacy?void 0:t?E.k:T.P,onClick:u,semanticColor:"textBase",size:"medium",className:C().saveOnSpotifyButton,children:(0,i.jsx)(m.E,{"data-testid":"save-button-label",className:C().saveOnSpotifyButtonText,children:c})})};var j=n(47637),P=n.n(j);let L=e=>{let{uri:t,className:n}=e,r=(0,o.d4)(e=>{let{settings:t}=e;return t.isMobile}),c=(0,o.d4)(e=>{let{data:t}=e;return t.entity?.isAudiobook}),u=(0,o.d4)(e=>{let{data:t}=e;return t.entity?.isPreRelease}),p=(0,a.o_h)(t)?.type,m=p===a.NQG.ARTIST||p===a.NQG.SHOW&&!c,_=(0,l.aG)({productName:"embed_player_p",intent:l.pg.ADD_TO_LIBRARY}),[h,y]=(0,d.A)(t);if(void 0===h)return null;let v=u?(0,i.jsx)(x,{isPreSaved:h[t],preSavedCb:y,isMobile:r,links:_}):m?(0,i.jsx)(g,{isMobile:r,links:_,saved:h[t],savedCb:y}):(0,i.jsx)(A,{isMobile:r,links:_,saved:h[t],savedCb:y});return(0,i.jsx)("div",{"data-testid":"save-on-spotify",className:s()(P().wrapper,n),children:v})}},10758:e=>{e.exports={getSpotifyButton:"UpsellButton_getSpotifyButton__9XE6r",buttonText:"UpsellButton_buttonText__L41pW"}},10903:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var i=n(15977),a=n(30451),r=n(77005),s=n(70777);function o(){let{height:e}=i.useContext(r.k),t=(0,a.d4)(e=>e.settings.isVideoEmbed),n=(0,a.d4)(e=>e.data.entity?.isPreRelease),o=(0,a.d4)(e=>!!e.data.entity?.trackList?.length||e.data.entity?.type==="album"||e.data.entity?.type==="artist"||e.data.entity?.type==="playlist");return{isCompactLegacy:!!(e&&e<s.ht.landscape)&&!t&&!o,isCompactTracklist:!!(e&&e<s.ht.large)&&!t&&!n&&o}}},11177:(e,t,n)=>{"use strict";n.d(t,{n:()=>k});var i=n(7765),a=n(4209),r=n(86308),s=n(22539),o=n(31493),l=n(15977),d=n(73314),c=n(96985),u=n(34930),p=n(77005),m=n(64667),_=n(8233),h=n(70777),y=n(53377),v=n.n(y);let k=()=>{let e=(0,o.kj)(),[t,n]=(0,l.useState)({left:0,right:0,animationState:0}),[y,k]=(0,l.useState)(!0),{playbackState:f,triggerPlaybackOperation:b}=(0,l.useContext)(c.T),g=f?.duration,E=f?.positionAsOfTimestamp,{isEntityPlayable:T}=(0,d.y)(),w=f?.item?.uri,S=f?.isDisabled||!T,x=(0,_.j)(),N=!f?.hasContext||f?.isPaused,C=(0,l.useRef)(!0);C.current=t.right<180;let{height:A}=l.useContext(p.k);(0,l.useEffect)(()=>{A&&k(A>=h.ht.large)},[A]),(0,l.useEffect)(()=>{if(0===E){C.current=!0,n(e=>({...e,left:0,right:0,animationState:2}));return}if(g&&E&&E>0){let e=360*E/g,t=e>180?180:e,i=e>180?e-180:0,a=C.current;n(e=>({...e,left:180===t&&a&&2===e.animationState?0:i,right:t,animationState:0===e.animationState?1:e.animationState}))}},[g,E]),(0,l.useEffect)(()=>{1===t.animationState&&n(e=>({...e,animationState:2}))},[t.animationState]);let j={zIndex:1,transform:`rotate(${t.right}deg)`,transition:0===t.right||2!==t.animationState?"none":"transform 1s ease-in-out"},P={zIndex:2,transform:`rotate(${t.left}deg)`,transition:0===t.left||2!==t.animationState?"none":"transform 1s ease-in-out"},L=()=>{!S&&(b((0,u.d5)()),x((0,m.d)({action_type:"click",action_intent:f?.isPaused===!1?"pause":"play",action_item_id:"now-playing-bar",item_uri:w})),T||x((0,m.d)({action_type:"playback",action_intent:"track-not-available",action_item_id:"now-playing-bar",item_uri:w})))};return(0,i.jsx)("div",{className:v().circularContainer,"data-testid":"preview-play-pause",children:N?(0,i.jsx)(a.H,{disabled:S,"aria-label":e("embed_play","Play","Accessibility label for a button that plays preview of a track"),"data-testid":"play-pause-button",onClick:L,semanticColor:"textBase",condensedAll:!0,children:(0,i.jsx)(r.x,{semanticColor:"textBase",size:y?"xlarge":"large"})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:v().rangeBarRight,children:(0,i.jsx)("div",{className:v().rangeBarProgress,style:j,"data-testid":"progress-right"})}),(0,i.jsx)("div",{className:v().rangeBarLeft,children:(0,i.jsx)("div",{className:v().rangeBarProgress,style:P,"data-testid":"progress-left"})}),(0,i.jsx)("div",{className:v().circularInner,children:(0,i.jsx)(a.H,{className:v().iconPlayingButton,"aria-label":e("embed_pause","Pause","Accessibility label for a button that pauses preview of a track"),"data-testid":"play-pause-button",onClick:L,semanticColor:"textBase",condensedAll:!0,children:(0,i.jsx)(s._,{size:y?"large":"medium"})})})]})})}},12993:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var i=n(7765),a=n(4209),r=n(55709),s=n(31493),o=n(52233),l=n.n(o);let d=e=>{let{handleClose:t}=e,n=(0,s.kj)();return(0,i.jsx)("div",{className:l().closeButton,children:(0,i.jsx)(a.H,{iconOnly:r.M,"aria-label":n("close_button_action","Close","Accessibility label for a close button"),onClick:t,semanticColor:"textBase"})})}},14597:(e,t,n)=>{"use strict";n.d(t,{pg:()=>d,O$:()=>c,aG:()=>p});var i=n(77228),a=n(15977),r=n(30451),s=n(97391),o=n(96985),l=n(29946),d=function(e){return e.ADD_TO_LIBRARY="1",e}({});let c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"embed-player-p",i=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com");e.searchParams.has("utm_source")||e.searchParams.set("utm_source",n),e.searchParams.has("utm_medium")||e.searchParams.set("utm_medium",t?"mobile":"desktop");let a=i.searchParams.get("utm_campaign");a&&e.searchParams.set("utm_campaign",a);let r=i.searchParams.get("si");return r&&e.searchParams.set("si",r),e},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"embed-player-p",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return i?.playbackResumeSeconds&&e.searchParams.set("t",i.playbackResumeSeconds.toString()),i?.intent&&"1"===i.intent&&e.searchParams.set("intent","1"),c(e,n,t)};function p(e){let{productName:t,intent:n}=e,{playbackState:d}=(0,a.useContext)(o.T),c=(0,r.d4)(e=>{let{data:t}=e;return t.entity}),p=(0,r.d4)(e=>{let{settings:t}=e;switch(t.entityContext){case"episode":case"track":return!1;default:return!0}}),m=(0,r.d4)(e=>{let{settings:t}=e;return t.isMobile}),_=Math.floor(((0,l.s)(d)??0)/1e3),[h,y]=(0,a.useState)({selectedEntity:"",compositeEntity:"",embeddedEntity:"",cta:""}),v=c?.relatedEntityUri,k=c?.isAudiobook?v:c?.uri;return(0,a.useEffect)(()=>{let e=e=>(e?(0,i.o_h)(e):null)??void 0,a={compositeEntity:{deepLink:u((0,s.jT)(e(v),!1),t,m,{intent:n}).toString(),storeLink:u((0,s.KY)(e(v),!1),t,m,{intent:n}).toString()},selectedEntity:{deepLink:u((0,s.jT)(e(k),!1),t,m,{playbackResumeSeconds:_,intent:n}).toString(),storeLink:u((0,s.KY)(e(k),!1),t,m,{playbackResumeSeconds:_,intent:n}).toString()}},r=p?a.compositeEntity:a.selectedEntity;y({selectedEntity:a.selectedEntity.deepLink,compositeEntity:a.compositeEntity.deepLink,embeddedEntity:r.deepLink,cta:r.storeLink})},[t,p,_,m,n,k,v]),h}},15993:(e,t,n)=>{"use strict";n.d(t,{N:()=>k});var i=n(7765),a=n(48620),r=n(31493),s=n(46001),o=n.n(s),l=n(19366);n(15977);var d=n(30451),c=n(64667),u=n(75398),p=n(8233),m=n(21498),_=n(12993),h=n(36965),y=n(96071),v=n.n(y);let k=e=>{let{visible:t,showPolicies:n=!0,onClose:s,children:y}=e,k=(0,r.kj)(),f=(0,d.d4)(e=>e.machineState.playbackMode),b=(0,d.d4)(e=>e.settings.isVideoEmbed),g=(0,p.j)(),E=()=>{s?.(),g((0,u.eL)()),g((0,c.d)({action_type:"click",action_intent:"close-context-menu"}))};return(0,i.jsx)(i.Fragment,{children:f!==m.L.UNKNOWN&&(0,i.jsx)(l.FocusTrap,{active:t,focusTrapOptions:{onDeactivate:E,initialFocus:!1},children:(0,i.jsxs)("div",{className:o()(v().wrapper,{[v().visible]:t}),children:[(0,i.jsxs)("div",{className:o()(v().menuContent,{[v().visible]:t}),children:[y,n&&(0,i.jsxs)("div",{className:o()(v().policies,{[v().stickDown]:!b}),children:[(0,i.jsx)(a.Y,{className:v().link,href:"https://www.spotify.com/legal/privacy-policy/",target:"_blank",onClick:()=>{g((0,c.d)({action_type:"click",action_intent:"privacypolicy-show"}))},semanticColor:"textSubdued",standalone:!0,children:k("spe.privacy_policy","Privacy Policy","Button`s text that opens privacy policy Spotify`s page")}),(0,i.jsx)(h.w,{className:v().separator}),(0,i.jsx)(a.Y,{className:v().link,href:"https://www.spotify.com/legal",target:"_blank",semanticColor:"textSubdued",onClick:()=>{g((0,c.d)({action_type:"click",action_intent:"termsandconditions-show"}))},standalone:!0,children:k("spe.terms_and_conditions","Terms & Conditions","Button`s text that opens a terms and conditions Spotify`s page")})]})]}),(0,i.jsx)("div",{className:v().closeButton,children:(0,i.jsx)(_.J,{handleClose:E})})]})})})}},20260:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var i=n(7765),a=n(15977),r=n(30451),s=n(36020),o=n(34930),l=n(96985),d=n(64667),c=n(8233),u=n(77228);function p(e){return e===u.NQG.TRACK||e===u.NQG.ALBUM||e===u.NQG.PLAYLIST||e===u.NQG.ARTIST?5e3:15e3}var m=n(31493),_=n(46001),h=n.n(_),y=n(93512),v=n(62193),k=n(99361),f=n.n(k),b=n(71386),g=n.n(b);function E(e){let{children:t,...n}=e;return(0,i.jsxs)("label",{className:g().visibleOnlyToScreenReader,children:[t,(0,i.jsx)("input",{...n})]})}function T(e,t,n){let i=e.current;if(null===i)return 0;let a=i.getBoundingClientRect();return"vertical"===n?1-Math.max(0,Math.min((t.clientY-a.top)/a.height,1)):Math.max(0,Math.min((t.clientX-a.left)/a.width,1))}let w=e=>{let{enabled:t,max:n,current:r,entityType:s,onDragStart:o,onDragMove:l,onDragEnd:d,onStepBackward:c,onStepForward:u}=e,_=(0,m.kj)(),k=(0,a.useRef)(null),{isDragging:b,onPointerDown:g,onPointerEnter:w,onPointerLeave:S,isHovering:x,hoverPercentage:N}=(e=>{let{progressBarRef:t,onDragStart:n,onDragMove:i,onDragEnd:r,direction:s="horizontal"}=e,[o,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(0),m=(0,a.useRef)(n),_=(0,a.useRef)(i),h=(0,a.useRef)(r);m.current=n,_.current=i,h.current=r;let v=(0,y.YQ)(e=>{_.current(T(t,e,s))},20,{leading:!0,maxWait:20}),k=(0,a.useCallback)(e=>{0===e.button&&(m.current(T(t,e,s)),l(!0),document.addEventListener("pointermove",v),document.addEventListener("pointerup",e=>{l(!1),v.cancel(),h.current(T(t,e,s)),document.removeEventListener("pointermove",v)},{once:!0}))},[v,t,s]),f=(0,a.useCallback)(e=>{p(T(t,e,s))},[t,s]);return{isDragging:o,onPointerDown:k,onPointerEnter:(0,a.useCallback)(()=>{c(!0),document.addEventListener("pointermove",f)},[f]),onPointerLeave:(0,a.useCallback)(()=>{c(!1),document.removeEventListener("pointermove",f)},[f]),isHovering:d,hoverPercentage:u}})({progressBarRef:k,onDragStart:o,onDragMove:l,onDragEnd:d}),[C,A]=(0,a.useState)(!1),j=Math.max(0,Math.min(1,(r??0)/(n||1))),P=x?N??0:j,L={left:`${100*P}%`},R={transform:`translateX(-${100-(x?N:0)*100}%)`},O=x&&n?n*N:0,I=C&&n?r??0+p(s):0,D=void 0!==n&&n>0&&(x||C),B={transform:`translateX(-${100-100*j}%)`},M=t&&x||b,U={left:`${100*j}%`},F=(e=>{let{onStepForward:t,onStepBackward:n,value:i}=e;return(0,y.YQ)(e=>{parseFloat(e.target.value)>i?t?.():n?.()},100,{trailing:!1,leading:!0,maxWait:200})})({onStepForward:u,onStepBackward:c,value:r??0});return(0,i.jsxs)("div",{ref:k,onPointerDown:t?g:void 0,onPointerEnter:t?w:void 0,onPointerLeave:t?S:void 0,className:f().progressBarContainer,children:[(0,i.jsx)(E,{disabled:!t,type:"range",min:0,max:n,value:r??0,step:p(s),onChange:e=>(A(!0),F(e)),onKeyDown:e=>"Escape"===e.code&&A(!1),onFocus:()=>A(!0),onBlur:()=>A(!1),"aria-valuetext":`
         ${(0,v.A)(r??0)} /
         ${(0,v.A)(n??0)}
        `,children:_("playback-control.a11y.seek-slider-button","Change progress","Text read by accessibility tools explaining what the white dot on the player bar is for")}),D&&(0,i.jsx)("div",{className:f().tooltip,style:L,children:x?(0,v.A)(O):(0,v.A)(I)}),(0,i.jsxs)("div",{className:f().progressBarLineBackground,children:[(0,i.jsx)("div",{className:f().progressBarLineActive,style:R}),(0,i.jsx)("div",{"data-testid":"progress-bar-line",id:"progress-bar-line",style:B,className:f().progressBarLine})]}),(0,i.jsx)("div",{"data-testid":"progress-bar-slider",id:"progress-bar-slider",className:h()(f().progressBarSlider,{[f().visible]:M}),style:U})]})},S=()=>{let e=(0,r.d4)(e=>e.data.entity),{triggerPlaybackOperation:t,playbackState:n}=(0,a.useContext)(l.T),u=e.isPlayable&&!!n?.hasContext,{metadata:m}=(0,a.useMemo)(()=>(0,s.O)(e),[e]),_=n?.duration||Number(m?.duration),h=n?.item?.uri,[y,v]=(0,a.useState)(null),[k,f]=(0,a.useState)(n?.positionAsOfTimestamp||0),b=null!==y?y:k,g=(0,c.j)();(0,a.useEffect)(()=>{f(n?.positionAsOfTimestamp||0)},[n?.positionAsOfTimestamp]);let E=e=>{v(e*_)};return(0,i.jsx)(w,{onDragStart:E,onDragMove:E,onDragEnd:e=>{v(null),g((0,d.d)({action_type:"click",action_intent:"seek-click",item_uri:h}));let n=e*_;f(n),t((0,o.jF)(n))},max:_,current:b,enabled:u,entityType:e.type,onStepBackward:()=>{f(b-p(e.type)),t((0,o.jF)(b-p(e.type)))},onStepForward:()=>{f(b+p(e.type)),t((0,o.jF)(b+p(e.type)))}})}},20456:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var i=n(7765),a=n(10903),r=n(43695),s=n(74303),o=n(11177),l=n(44083),d=n.n(l);let c=()=>{let{isCompactLegacy:e}=(0,a.o)();return(0,i.jsxs)("div",{className:d().playerControlsWrapper,children:[e&&(0,i.jsx)("div",{className:d().addToLibraryCompactWrapper,children:(0,i.jsx)(r.p,{})}),(0,i.jsx)("div",{className:d().overflowMenuButtonWrapper,children:(0,i.jsx)(s.G,{})}),(0,i.jsx)(o.n,{})]})}},21498:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,b:()=>a});var i=function(e){return e.UNKNOWN="unknown",e.FULL="full-playback",e.PREVIEW="preview-playback",e}({});let a="SET_PLAYBACK_MODE"},22010:(e,t,n)=>{"use strict";n.d(t,{h:()=>b});var i=n(7765),a=n(51524),r=n(48620),s=n(46001),o=n.n(s),l=n(15977),d=n(30451),c=n(14597),u=n(36020),p=n(96985),m=n(34930),_=n(64667),h=n(8233),y=n(60360),v=n(74309),k=n(25805),f=n.n(k);let b=e=>{let{showUpsell:t,variant:n}=e,s=(0,d.d4)(e=>e.data.entity),{metadata:k}=(0,l.useMemo)(()=>(0,u.O)(s),[s]),{playbackState:b,triggerPlaybackOperation:g}=(0,l.useContext)(p.T),E=b?.isPaused,T=(0,h.j)(),w=(0,l.useCallback)(e=>T((0,_.d)(e)),[T]),S=k?.title||"",x=(0,c.aG)({productName:"embed_player_p"}),N=(0,d.d4)(y.BT);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.E,{as:"h1",variant:n??"bodyMedium",className:o()(f().title,{[f().alignBelowUpsell]:t}),"data-testid":"entity-title",children:(0,i.jsx)(v.r,{title:S,children:(0,i.jsx)(r.Y,{standalone:!0,semanticColor:"textBase",onClick:(e=>()=>{("title"===e||"cover-art"===e)&&N&&void 0!==E&&g((0,m.v7)()),w({action_type:"click",action_intent:"deeplink",action_item_id:e})})("title"),href:x?.selectedEntity,children:S})})})})}},23514:e=>{e.exports={upsellContentContainer:"Upsell_upsellContentContainer__xjlbk",transition_enter:"Upsell_transition_enter__1J8pP",transition_enterActive:"Upsell_transition_enterActive__7oD__",transition_exit:"Upsell_transition_exit__gTMji",transition_exitActive:"Upsell_transition_exitActive__MLvE3"}},23772:(e,t,n)=>{"use strict";let i;n.d(t,{E:()=>r,i:()=>a});let a=()=>{if(!i)throw Error("Config data not set");return i},r=e=>{i=e}},25805:e=>{e.exports={title:"TitleAndSubtitle_title__Nwyku",subtitle:"TitleAndSubtitle_subtitle__P1cxq",wrapper:"TitleAndSubtitle_wrapper__xndXC",separator:"TitleAndSubtitle_separator__4WdMW"}},25945:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});let i=e=>e?`rgba(${e.red}, ${e.green}, ${e.blue}, ${e.alpha})`:null,a=e=>e?(e=>({"--dynamic-opacity":e.opacity,"--dynamic-background-base":e.backgroundBase,"--dynamic-background-tinted":e.backgroundTinted,"--dynamic-background-tinted-50":e.backgroundTinted50,"--background-base":e.backgroundBase,"--background-tinted":e.backgroundTinted,"--text-base":e.textBase,"--text-bright-accent":e.textBrightAccent,"--text-subdued":e.textSubdued}))({backgroundBase:i(e?.backgroundBase),backgroundTinted:i(e?.backgroundTintedBase),backgroundTinted50:i(e?.backgroundTintedBase?{...e.backgroundTintedBase,alpha:.5}:null),textBase:i(e?.textBase),textBrightAccent:i(e?.textBrightAccent),textSubdued:i(e?.textSubdued),opacity:e?"1":null}):{}},27153:e=>{e.exports={wrapper:"Error_wrapper__rnmqo",content:"Error_content__DLtLW",title:"Error_title__Itx4f",description:"Error_description__wJgFt",links:"Error_links__xYnxY",primary:"Error_primary__1qg4H",icon:"Error_icon__7F4I4",secondary:"Error_secondary__pz9N0"}},28850:(e,t,n)=>{"use strict";n.d(t,{a:()=>eo});var i=n(7765),a=n(46001),r=n.n(a),s=n(19366),o=n(15977),l=n(30451),d=n(39912),c=n(60433),u=n(21498),p=n(96985),m=n(29946),_=n(60360),h=n(64667),y=n(8233),v=n(51524),k=n(31493),f=n(77005),b=n(70777),g=n(10903),E=n(44783),T=n(12993),w=n(65084),S=n(52348),x=n(20456),N=n(7587),C=n(29043),A=n(22010),j=n(40608),P=n.n(j);let L=()=>(0,i.jsx)("div",{className:P().backgroundCoverArt});var R=n(91381),O=n(14597);let I=(e,t)=>e<b.ht.landscape&&t<b.OM.small||e<b.ht.large?"small":"medium";var D=n(36711),B=n(10758),M=n.n(B);let U=()=>{let e=(0,O.aG)({productName:"embed_player_p"}),t=(0,k.kj)(),{width:n,height:a}=o.useContext(f.k),r=(0,y.j)(),s=async()=>{r((0,h.d)({action_type:"click",action_intent:"deeplink",action_item_id:"open-spotify"})),(0,D.J)({url:e.embeddedEntity})};return(0,i.jsx)("div",{className:M().getSpotifyButton,children:(0,i.jsx)(R.$,{size:I(a,n),colorSet:"invertedLight",onClick:s,children:(0,i.jsx)(v.E,{className:M().buttonText,variant:"titleSmall",children:t("embed.open-spotify","Open Spotify","A button the user can press to open the Spotify application")})})})},F=()=>{let e=(0,l.d4)(e=>e.data.entity),t=(0,l.d4)(e=>e.settings.session.isAnonymous),n=(0,l.d4)(e=>e.settings.isMobile),a=e?.isAudiobook?e?.relatedEntityUri:e?.uri,r=(0,O.aG)({productName:"embed_player_p",intent:O.pg.ADD_TO_LIBRARY}),s=(0,k.kj)(),{width:d,height:c}=o.useContext(f.k),u=(0,y.j)(),[p,m]=(0,E.A)(a||""),_=!!p&&!!a&&p[a],b=async()=>{t?(u((0,h.d)({action_type:"click",action_intent:"deeplink",action_item_id:"pre-save"})),(0,D.J)({url:r.selectedEntity,newWindow:!n})):(u((0,h.d)({action_type:"click",action_intent:_?"remove-pre-save-from-spotify":"pre-save-on-spotify"})),a&&await m(!_))},g=_?s("pre_release.button.pre_saved","Pre-saved","Removes the pre-saved entity from the user`s library"):s("pre_release.button.pre_save","Pre-save","Pre-saves the entity to the user`s library");return(0,i.jsx)("div",{className:M().getSpotifyButton,children:(0,i.jsx)(R.$,{size:I(c,d),colorSet:"invertedLight",onClick:b,children:(0,i.jsx)(v.E,{className:M().buttonText,variant:"titleSmall",children:g})})})};var V=n(36100),W=n.n(V),G=n(92246),q=n.n(G);let H=e=>{let{showUpsell:t,setShowUpsell:n,onClose:a}=e,r=(0,k.kj)(),s=(0,o.useRef)(null),c=(0,l.d4)(e=>e.data.entity),u=c?.isAudiobook?c?.relatedEntityUri:c?.uri,[p]=(0,E.A)(u||""),m=!!p&&!!u&&p[u],_=(()=>{let{width:e,height:t}=(0,o.useContext)(f.k),{isCompactLegacy:n}=(0,g.o)();return(0,o.useMemo)(()=>n||t&&t<b.ht.landscapeLegacy?e&&e<=b.OM.small?["days"]:e&&e<=b.OM.medium?["days","hours"]:["days","hours","minutes"]:t&&t<b.ht.large||e&&e<=b.OM.small?["days","hours","minutes"]:["days","hours","minutes","seconds"],[n,t,e])})(),h=m?r("pre_release.upsell.listen_more","Listen to more content like this in the Spotify app!","Text displayed on pre-release upsell when the entity is already pre-saved"):r("pre_release.upsell.pre_save","Pre-save and be the first to listen in the Spotify app!","Text displayed on pre-release upsell encouraging users to pre-save the content");return(0,i.jsx)(d.A,{nodeRef:s,in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:{enter:W().transition_enter,enterActive:W().transition_enterActive,exit:W().transition_exit,exitActive:W().transition_exitActive},children:(0,i.jsxs)("div",{ref:s,className:q().fullscreenWrapper,children:[(0,i.jsxs)("div",{className:q().ctaWrapper,children:[(0,i.jsx)(L,{}),(0,i.jsxs)("div",{className:W().content,children:[(0,i.jsx)("div",{className:W().countdownContainer,children:(0,i.jsx)(w.G,{visibleCells:_})}),(0,i.jsx)("div",{className:W().messageContainer,children:(0,i.jsx)(v.E,{variant:"titleLarge",className:W().upsellMessage,semanticColor:"textBase",children:h})}),(0,i.jsx)("div",{className:W().buttonContainer,children:m?(0,i.jsx)(U,{}):(0,i.jsx)(F,{})}),(0,i.jsx)("div",{className:W().closeButton,children:(0,i.jsx)(T.J,{handleClose:()=>{a(),n(!1)}})})]})]}),(0,i.jsxs)("div",{className:q().footerWrapper,children:[(0,i.jsx)("div",{className:q().coverArtWrapper,children:(0,i.jsx)(S.e,{className:q().coverArtUpsell})}),(0,i.jsxs)("div",{className:q().metadataWrapper,children:[(0,i.jsx)(A.h,{}),(0,i.jsxs)("span",{className:q().labelsAndSubtitle,children:[(0,i.jsx)(N.Y,{}),(0,i.jsx)(C.P,{})]})]}),(0,i.jsx)("div",{className:q().playerControlsWrapper,children:(0,i.jsx)(x.l,{})})]})]})})};var Y=n(74303),K=n(59717),Q=n(44083),$=n.n(Q);let z=()=>(0,i.jsxs)("div",{className:$().playerControlsWrapper,children:[(0,i.jsx)("div",{className:$().overflowMenuButtonWrapper,children:(0,i.jsx)(Y.G,{})}),(0,i.jsx)("div",{className:$().previewPlayPauseWrapper,children:(0,i.jsx)(K.D,{})})]}),X=()=>{let e=(0,O.aG)({productName:"embed_player_p"}),t=(0,k.kj)(),{width:n,height:a}=o.useContext(f.k),r=(0,y.j)(),s=async()=>{r((0,h.d)({action_type:"click",action_intent:"deeplink",action_item_id:"get-spotify"})),(0,D.J)({url:e.embeddedEntity})};return(0,i.jsx)("div",{className:M().getSpotifyButton,children:(0,i.jsx)(R.$,{size:I(a,n),colorSet:"invertedLight",onClick:s,children:(0,i.jsx)(v.E,{className:M().buttonText,variant:"titleSmall",children:t("get_spotify","Get Spotify","A button the user can press to download / get the Spotify application")})})})},J=()=>{let e=(0,O.aG)({productName:"embed_player_p"}),t=(0,l.d4)(e=>e.settings.isMobile),n=(0,k.kj)(),{width:a,height:r}=o.useContext(f.k),s=(0,y.j)();return(0,i.jsx)("div",{className:M().getSpotifyButton,children:(0,i.jsx)(R.$,{size:I(r,a),colorSet:"invertedLight",onClick:()=>{s((0,h.d)({action_type:"click",action_intent:"deeplink",action_item_id:"buy-this-audiobook"})),(0,D.J)({url:t?(e=>{try{let t=new URL(e);return t.searchParams.set("nd","1"),t.pathname=t.pathname.startsWith("/__noul__")?t.pathname:`__noul__${t.pathname}`,t.toString()}catch{throw Error("Invalid URL")}})(e.embeddedEntity):e.embeddedEntity})},children:(0,i.jsx)(v.E,{className:M().buttonText,variant:"titleSmall",children:n("audiobook.embed.get-this-audiobook","Get this audiobook","An upsell button that a user can click to redirect them to the Spotify App and buy the book")})})})};var Z=n(77228);let ee=()=>{let e=(0,l.d4)(e=>e.data.entity),t=(0,l.d4)(e=>e.settings.session.isAnonymous),n=(0,O.aG)({productName:"embed_player_p"}),a=(0,k.kj)(),{width:r,height:s}=o.useContext(f.k),d=(0,y.j)(),[c,u]=(0,E.A)(e.relatedEntityUri),p=async()=>{t?(d((0,h.d)({action_type:"click",action_intent:"deeplink",action_item_id:"follow"})),(0,D.J)({url:n.compositeEntity})):(d((0,h.d)({action_type:"click",action_intent:c?.[e.relatedEntityUri]?"unfollow":"follow"})),await u(!c?.[e.relatedEntityUri]))};return(0,i.jsx)("div",{className:M().getSpotifyButton,children:(0,i.jsx)(R.$,{size:I(s,r),colorSet:"invertedLight",onClick:p,children:(0,i.jsx)(v.E,{className:M().buttonText,variant:"titleSmall",children:(e.type===Z.NQG.EPISODE||e.type===Z.NQG.SHOW)&&c?.[e.relatedEntityUri]?a("following","Following","Button`s text that adds an item to the user`s library"):a("follow","Follow","Button`s text that removes an item to the user`s library")})})})};var et=n(48614),en=n.n(et);let ei=()=>{let e=(0,k.kj)(),t=(0,l.d4)(e=>e.data.entity.type),n=(0,l.d4)(t=>t.data.entity?.subtitle||e("spe.upsell_cta","Discover even more podcasts on Spotify","Text displayed after user has listened to 20 seconds of a 30 sec podcast preview.")),a=(0,l.d4)(e=>e.data.entity.isAudiobook||!1),s=(0,l.d4)(e=>e.machineState.playbackMode)===u.L.PREVIEW,o=(0,l.d4)(_.BT);return(0,i.jsx)(v.E,{variant:"titleLarge",className:r()(en().text),id:"dialogUpsellTitle",semanticColor:"textBase",children:((e,t,n,i,a,r)=>{switch(e){case Z.NQG.EPISODE:case Z.NQG.SHOW:if(n)return t("audiobook.embed.upsell_cta","Hooked? Take this audiobook everywhere you go, on Spotify","Text displayed on an upsell menu after a user has listened to 60 seconds of an audiobook sample.");if(i&&!a)return t("spe.podcast_full_upsell_cta","Discover even more from {podcastName}","Text displayed after user has listened to 20 seconds of a 30 sec podcast preview.",{podcastName:r});return t("spe.upsell_cta","Discover even more podcasts on Spotify","Text displayed after user has listened to 20 seconds of a 30 sec podcast preview.");case Z.NQG.TRACK:return t("spe.track_upsell_cta","Listen to the full track and millions more on Spotify","Text displayed after user has listened to 20 seconds of a 30 sec track preview.");case Z.NQG.PLAYLIST:default:return t("spe.track_list_upsell","Listen to these tracks & millions more on Spotify","Text displayed after user has listened to 20 seconds of a 30 sec of track list preview.")}})(t,e,a,o,s,n)})},ea=e=>{let{showUpsell:t,setShowUpsell:n,onClose:a}=e,s=(0,l.d4)(e=>{let{data:t}=e;return t.entity?.isAudiobook}),c=(0,l.d4)(e=>{let{machineState:t}=e;return t.playbackMode})===u.L.PREVIEW,p=(0,l.d4)(_.BT),m=(0,l.d4)(e=>{let{data:t}=e;return!!t.entity?.trackList}),h=(0,o.useRef)(null);return(0,i.jsx)(d.A,{nodeRef:h,in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:{enter:q().transition_enter,enterActive:q().transition_enterActive,exit:q().transition_exit,exitActive:q().transition_exitActive},children:(0,i.jsxs)("div",{ref:h,className:r()(q().fullscreenWrapper,{[q().playlistContainer]:m}),children:[(0,i.jsxs)("div",{className:q().ctaWrapper,children:[(0,i.jsx)(L,{}),(0,i.jsxs)("div",{className:q().content,children:[(0,i.jsx)(ei,{}),s?(0,i.jsx)(J,{}):p&&!c?(0,i.jsx)(ee,{}):(0,i.jsx)(X,{}),(0,i.jsx)("div",{className:q().closeButton,children:(0,i.jsx)(T.J,{handleClose:()=>{a(),n(!1)}})})]})]}),(0,i.jsxs)("div",{className:q().footerWrapper,children:[(0,i.jsx)("div",{className:q().coverArtWrapper,children:(0,i.jsx)(S.e,{className:q().coverArtUpsell})}),(0,i.jsxs)("div",{className:q().metadataWrapper,children:[(0,i.jsx)(A.h,{}),(0,i.jsxs)("span",{className:q().labelsAndSubtitle,children:[(0,i.jsx)(N.Y,{}),(0,i.jsx)(C.P,{})]})]}),(0,i.jsx)("div",{className:q().playerControlsWrapper,children:c&&!s?(0,i.jsx)(x.l,{}):(0,i.jsx)(z,{})})]})]})})};var er=n(23514),es=n.n(er);let eo=()=>{let e=(0,l.d4)(e=>{let{machineState:t}=e;return t.playbackMode}),t=(0,l.d4)(e=>{let{data:t}=e;return t.entity}),n=!!t?.isPreRelease,{showUpsell:a,setShowUpsell:v}=(()=>{let e=(0,l.d4)(e=>{let{machineState:t}=e;return t.playbackMode})===u.L.PREVIEW,{playbackState:t}=(0,o.useContext)(p.T),n=(0,m.s)(t),i=t?.isPaused,a=t?.duration,r=t?.hasContext,s=(0,l.d4)(e=>{let{machineState:t}=e;return t.currentPreviewTrackIndex}),d=(0,l.d4)(e=>{let{data:t}=e;return!!t.entity?.isAudiobook}),h=(0,l.d4)(_.BT),y=(0,c.c)(),[v,k]=(0,o.useState)(!1),[f,b]=(0,o.useState)(!1),[g,E]=(0,o.useState)(s+1),{skipCount:T,incrementSkipCounter:w,resetSkipCounter:S}=(()=>{let[e,t]=(0,o.useState)(0);return{skipCount:e,incrementSkipCounter:(0,o.useCallback)(()=>{t(e+1)},[e]),resetSkipCounter:(0,o.useCallback)(()=>{t(0)},[])}})();return(0,o.useEffect)(()=>{(s===g||s===g-2)&&(E(()=>g+1),w()),E(()=>s+1)},[s,w,g]),(0,o.useEffect)(()=>{d&&a&&(r&&null!==n&&(n>6e4&&T<1&&(k(!0),w()),n>0&&i&&k(!0)),n===a&&(k(!0),S())),r&&null!==n&&a&&(e?(n>2*a/3||n>0&&i||3===T)&&f!==y&&(b(y),k(!0),S()):h&&(n>a/2||n>0&&i)&&f!==y&&(b(y),k(!0)))},[n,a,e,i,y,r,f,T,S,d,w,h]),{showUpsell:v,setShowUpsell:k}})(),k=(0,y.j)(),f=()=>{v(!1),k((0,h.d)({action_type:"click",action_intent:"close-upsell"}))};(0,o.useEffect)(()=>{a&&k((0,h.d)({action_intent:"open-upsell",action_type:"view"}))},[k,a]);let b=(0,o.useRef)(null);return e===u.L.UNKNOWN?null:(0,i.jsx)(d.A,{nodeRef:b,in:a,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:{enter:es().transition_enter,enterActive:es().transition_enterActive,exit:es().transition_exit,exitActive:es().transition_exitActive},children:(0,i.jsx)(s.FocusTrap,{focusTrapOptions:{initialFocus:!1,onDeactivate:f,checkCanFocusTrap:()=>new Promise(e=>{b&&Promise.resolve(e)})},children:(0,i.jsx)("div",{ref:b,role:"dialog","aria-labelledby":"dialogUpsellTitle",className:r()(es().upsellContentContainer,"encore-layout-themes"),children:n?(0,i.jsx)(H,{showUpsell:!0,setShowUpsell:v,onClose:f}):(0,i.jsx)(ea,{showUpsell:!0,setShowUpsell:v,onClose:f})})})})}},29043:(e,t,n)=>{"use strict";n.d(t,{P:()=>j});var i=n(7765),a=n(51524),r=n(48620),s=n(31493),o=n(86228),l=n(46001),d=n.n(l),c=n(15977),u=n(30451),p=n(14597),m=n(35013),_=n(36020),h=n(96985),y=n(34930),v=n(77005),k=n(64667),f=n(8233),b=n(60360),g=n(70777),E=n(77228),T=n(52839),w=n(97391);let S=e=>{let{uri:t,name:n,onClick:a}=e,s=(0,c.useMemo)(()=>(0,w.jT)((0,E.o_h)(t)??void 0,!1).toString(),[t]),o=(0,T.g)();return(0,i.jsx)(r.Y,{standalone:!0,semanticColor:o?"textSubdued":"textBase",onClick:a,href:s,children:n})};var x=n(74309),N=n(36965),C=n(25805),A=n.n(C);let j=e=>{let{showUpsell:t}=e,{width:n,height:l}=c.useContext(v.k),E=(0,u.d4)(e=>e.data.entity),{metadata:T}=(0,c.useMemo)(()=>(0,_.O)(E),[E]),{playbackState:w,triggerPlaybackOperation:C}=(0,c.useContext)(h.T),j=w?.isPaused,P=(0,u.d4)(e=>!!e.data.entity?.isAudiobook),L=(0,f.j)(),R=(0,c.useCallback)(e=>L((0,k.d)(e)),[L]),O=T?.title||"",I=T?.subtitle||"",D=E.artists,B=new Date(T?.releaseDate||""),M=(0,p.aG)({productName:"embed_player_p"}),U=(0,s.Ym)(),F=(0,u.d4)(b.BT),V=((e,t)=>e&&t?t<g.ht.landscape?"marginal":e<g.OM.medium||t<g.ht.large?"bodySmall":"bodyMedium":"bodyMedium")(n,l),W=e=>()=>{("title"===e||"cover-art"===e)&&F&&void 0!==j&&C((0,y.v7)()),R({action_type:"click",action_intent:"deeplink",action_item_id:e})},[G,q]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{q(!0)},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("h2",{className:d()(A().subtitle,{[A().alignBelowUpsell]:t,[A().isAudiobook]:P}),children:(0,i.jsx)(x.r,{title:O,children:(0,i.jsxs)("span",{className:A().wrapper,children:[F&&!P&&(0,i.jsxs)(i.Fragment,{children:[G&&(0,i.jsx)(a.E,{semanticColor:"textSubdued",variant:V,children:(0,i.jsx)(o.gz,{options:{day:"numeric",month:"short"},locale:U,date:B})}),(0,i.jsx)(N.w,{className:A().separator})]}),I&&(0,i.jsx)(a.E,{variant:V,children:(0,i.jsx)(r.Y,{standalone:!0,semanticColor:"textSubdued",dir:"auto",onClick:W("subtitle"),href:M?.compositeEntity,children:I})}),D?.length&&D.map((e,t)=>[t>0&&(0,i.jsx)(a.E,{semanticColor:"textSubdued",variant:V,children:(0,m.A)(U)},`separator-${e.uri}`),(0,i.jsx)(S,{uri:e.uri,name:e.name,onClick:W("artist")},`artist-link-${e.uri}`)])]})})})})}},29946:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});let i=e=>{let t=e?.positionAsOfTimestamp??null;if(null===e||null===t||null===e.duration)return null;let{timestamp:n,duration:i,speed:a,hasContext:r,isPaused:s,isBuffering:o}=e;return!r||s||o?t:Math.min(t+(Date.now()-n)*(a??0),i)}},30276:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var i=function(e){return e.ALBUM="album",e.ARTIST="artist",e.AUDIOBOOK="audiobook",e.CHAPTER="chapter",e.EPISODE="episode",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown",e}({})},30878:(e,t,n)=>{"use strict";n.d(t,{Yq:()=>i,Z9:()=>a,bt:()=>o,q3:()=>s});var i=function(e){return e[e.TRANSIENT=0]="TRANSIENT",e[e.PERSISTENT=1]="PERSISTENT",e}({}),a=function(e){return e.SUCCESS="success",e.PLAYBACK_STUCK="playback_stuck",e.PLAYBACK_ERROR="playback_error",e.LICENSE_CHANGE="license_change",e.PLAY_RESTRICTED="play_restricted",e.STOP_RESTRICTED="stop_restricted",e.UPDATE_RESTRICTED="update_restricted",e.PAUSE_RESTRICTED="pause_restricted",e.RESUME_RESTRICTED="resume_restricted",e.SKIP_TO_PREV_RESTRICTED="skip_to_prev_restricted",e.SKIP_TO_NEXT_RESTRICTED="skip_to_next_restricted",e.SKIP_TO_NON_EXISTENT_TRACK="skip_to_non_existent_track",e.TOGGLE_REPEAT_CONTEXT_RESTRICTED="toggle_repeat_context_restricted",e.TOGGLE_REPEAT_TRACK_RESTRICTED="toggle_repeat_track_restricted",e.SET_OPTIONS_RESTRICTED="set_options_restricted",e.TOGGLE_SHUFFLE_RESTRICTED="toggle_shuffle_restricted",e.SET_QUEUE_RESTRICTED="set_queue_restricted",e.INTERRUPT_PLAYBACK_RESTRICTED="interrupt_playback_restricted",e.SEEK_TO_RESTRICTED="seek_to_restricted",e.ONE_TRACK_UNPLAYABLE="one_track_unplayable",e.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED="one_track_unplayable_auto_stopped",e.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED="all_tracks_unplayable_auto_stopped",e.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED="skip_to_non_existent_track_auto_stopped",e.QUEUE_REVISION_MISMATCH="queue_revision_mismatch",e.VIDEO_PLAYBACK_ERROR="video_playback_error",e.VIDEO_GEORESTRICTED="video_georestricted",e.VIDEO_UNSUPPORTED_PLATFORM_VERSION="video_unsupported_platform_version",e.VIDEO_UNSUPPORTED_CLIENT_VERSION="video_unsupported_client_version",e.VIDEO_UNSUPPORTED_KEY_SYSTEM="video_unsupported_key_system",e.VIDEO_COUNTRY_RESTRICTED="video_country_restricted",e.VIDEO_UNAVAILABLE="video_unavailable",e.VIDEO_CATALOGUE_RESTRICTED="video_catalogue_restricted",e.VIDEO_MANIFEST_DELETED="video_manifest_deleted",e.TIMEOUT="timeout",e.INVALID="invalid",e.PLAYBACK_REPORTING_ERROR="playback_reporting_error",e.UNKNOWN="unknown",e.UNRECOGNIZED="unrecognized",e}({});class r extends Error{constructor(e,t,n,i){super(r.getMessage(t,n,i)),this.type=e,this.code=t,this.reasons=n,this.cause=i}static getMessage(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t.length>0?`Code '${e}' with reasons '${t.join(", ")}'`:void 0!==n?`Code '${e}' with cause '${n.name}: ${n.message}'`:`Code '${e}'`}}class s extends r{constructor(e,t,n){super(0,e,t,n)}}class o extends r{constructor(e,t,n){super(1,e,t,n)}}},31913:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(7765),a=n(7770),r=n(15977),s=n(77005),o=n(27153),l=n.n(o);let d=e=>{let{title:t,description:n,links:o}=e,[d,c]=(0,r.useState)("large"),{height:u}=(0,r.useContext)(s.k);return(0,r.useEffect)(()=>{u&&c(u>550?"xxlarge":"medium")},[u]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:l().wrapper,children:[(0,i.jsx)("div",{className:l().icon,children:(0,i.jsx)(a.D,{size:d})}),(0,i.jsxs)("div",{className:l().content,children:[(0,i.jsx)("h1",{className:l().title,children:t}),(0,i.jsx)("p",{className:l().description,children:n}),(0,i.jsx)("div",{className:l().links,children:(e=>{let t=e.map(e=>(0,i.jsx)("a",{target:"_blank",href:e.href,className:e.isPrimaryStyle?l().primary:l().secondary,children:e.title},e.href));return(0,i.jsx)(i.Fragment,{children:t.map(e=>e)})})(o)})]})]})})}},33839:e=>{e.exports={clicked:"CopyLink_clicked__O9BXe","out-in":"CopyLink_out-in__HDSDy",unclicked:"CopyLink_unclicked__dYp_M","in-out":"CopyLink_in-out__3Q56J"}},34511:e=>{e.exports={buttonWrapper:"PlayButton_buttonWrapper___CMG4",adaptForVideo:"PlayButton_adaptForVideo__bsKjt",playPauseIcon:"PlayButton_playPauseIcon__EBXpd",disabled:"PlayButton_disabled__F2saR"}},34930:(e,t,n)=>{"use strict";n.d(t,{A4:()=>d,GT:()=>p,LY:()=>_,TB:()=>h,U:()=>o,ZH:()=>r,d5:()=>a,h2:()=>s,i2:()=>m,jF:()=>y,mb:()=>u,q3:()=>c,v7:()=>l});var i=n(96115);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Xr.AUDIO;return{type:i.CU,mediaType:e}}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.Xr.AUDIO;return{type:i.tr,mediaType:e}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Xr.AUDIO;return{type:i.WO,index:e,mediaType:t}}function o(){return{type:i.IY}}function l(){return{type:i.Hz}}function d(){return{type:i.hM}}function c(){return{type:i.r2}}function u(){return{type:i.rp}}function p(){return{type:i.lQ}}function m(){return{type:i.oD}}function _(){return{type:i.zK}}function h(e){return{type:i.j5,index:e}}function y(e){return{type:i.NI,time:e}}},35e3:(e,t,n)=>{"use strict";function i(e){return void 0!==e.status}n.d(t,{_:()=>i})},35013:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=function(e){return e.AR="،\xa0",e.FA="،\xa0",e.EN=",\xa0",e}(i||{});let a=e=>{switch(e){case"ar":case"fa":return"،\xa0";default:return",\xa0"}}},36020:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var i=n(30276);let a=e=>{let t;if(!e)throw Error("Error: Entity Unavailable");let n=e.uri,a={};return(a.title=e.title,a.subtitle=e.subtitle,a.duration=(e.duration??0)?.toString(),a.audioPreviewUrl=e.audioPreview?.url??void 0,a.videoPreviewUrl=e.videoPreview?.url??void 0,a.explicit=e.isExplicit?"true":"false","relatedEntityUri"in e)?(a.releaseDate=e.releaseDate?.isoString,e.trackList&&e.trackList.length>0&&e.trackList.some(e=>e.entityType===i.c.CHAPTER&&e.isPlayable)&&(t=[{items:e.trackList?.filter(e=>e.isPlayable).map(e=>({uid:e.uid,type:function(e){return e===i.c.EPISODE?i.c.EPISODE:e===i.c.TRACK?i.c.TRACK:e===i.c.CHAPTER?i.c.CHAPTER:i.c.UNKNOWN}(e.entityType),uri:e.uri,provider:null}))}])):a.uid=e.uid,{uri:n,metadata:a,pages:t}}},36100:e=>{e.exports={closeButton:"PreReleaseUpsellContent_closeButton__n4_vO",content:"PreReleaseUpsellContent_content__0R5TN",countdownContainer:"PreReleaseUpsellContent_countdownContainer__Wgdf4",messageContainer:"PreReleaseUpsellContent_messageContainer__X5Nr5",upsellMessage:"PreReleaseUpsellContent_upsellMessage__VtyER",buttonContainer:"PreReleaseUpsellContent_buttonContainer__yXbia"}},36481:(e,t,n)=>{"use strict";n.d(t,{C:()=>k});var i=n(7765),a=n(55709),r=n(31392),s=n(81881),o=n(43116),l=n(31493),d=n(77228);n(15977);var c=n(30451),u=n(14597),p=n(10903),m=n(44783),_=n(64667),h=n(8233),y=n(36711),v=n(74386);let k=e=>{let{uri:t,action:n}=e,k=(0,l.kj)(),f=(0,c.d4)(e=>{let{settings:t}=e;return t.isMobile}),b=(0,h.j)(),g=(0,c.d4)(e=>{let{data:t}=e;return t.entity?.isAudiobook}),E=(0,c.d4)(e=>{let{data:t}=e;return t.entity?.type===d.NQG.EPISODE}),{isCompactLegacy:T}=(0,p.o)(),w=(0,c.d4)(e=>e.settings.session.isAnonymous),S=n&&"follow"===n||!n&&(e=>{let{uri:t,isAudiobook:n}=e,i=(0,d.o_h)(t)?.type;return i===d.NQG.ARTIST||i===d.NQG.SHOW&&!n})({uri:t,isAudiobook:g}),x=(0,u.aG)({productName:"embed_player_v",intent:u.pg.ADD_TO_LIBRARY}),[N,C]=(0,m.A)(t);if(void 0===N)return null;let A=(e=>{let{isFollowButton:t,saved:n,t:i}=e;return t?n?i("mwp.context.stop.following","Stop Following","Button`s text that removes an item to the user`s library"):i("follow_on_spotify","Follow on Spotify","Button`s text that adds an item to the user`s library"):n?i("embed.saved-on-spotify","Saved on Spotify","Button`s text that removes an item to the user`s library"):i("embed.save-on-spotify","Save on Spotify","Button`s text that adds an item to the user`s library")})({isFollowButton:S,saved:N[t],t:k}),j=async()=>{w?(b((0,_.d)({action_type:"click",action_intent:"deeplink",action_item_id:S?"follow":"add-to-library"})),(0,y.J)({url:((e,t,n)=>e?t?n.compositeEntity:n.embeddedEntity:n.selectedEntity)(S,E,x),newWindow:!f})):(b((0,_.d)({action_type:"click",action_intent:((e,t)=>e?t?"unfollow":"follow":t?"remove-from-spotify":"save-on-spotify")(S,N[t])})),await C(!N[t]))};return(0,i.jsx)(v.D,{title:A,onClick:j,icon:T?void 0:((e,t)=>e?t?a.M:r.h:t?s.k:o.P)(S,N[t]),testId:S?"follow-button":"save-on-spotify-button",children:A})}},36711:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});let i=e=>{let{url:t,newWindow:n=!0}=e;window.open(t,n?"_blank":"_top")}},36945:(e,t,n)=>{"use strict";n.d(t,{JO:()=>a,O:()=>i}),n(77228);class i extends Error{static fromResponse(e,t){return new i({message:e.statusText,url:e.url,method:t,status:e.status,response:e})}constructor(e){let{message:t,url:n,method:i,status:a,response:r}=e;super(t),this.name="HttpResponseError",this.requestUrl=n,this.requestMethod=i,this.status=a,this.response=r}}class a extends i{constructor(e){let{timeout:t,url:n,method:i}=e;super({message:`${i.toUpperCase()} ${n} timed out (${t}ms)`,url:n,method:i,status:503}),this.name="HttpRequestTimeoutError",this.timeout=t}}n(61188)},36965:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var i=n(7765),a=n(51524);let r=e=>{let{className:t}=e;return(0,i.jsx)(a.E,{className:t,"aria-hidden":!0,semanticColor:"textSubdued",variant:"bodySmallBold",children:"\xb7"})}},37787:(e,t,n)=>{"use strict";let i;n.d(t,{n:()=>y});var a=n(61188),r=n(36945),s=n(75410),o=n.n(s),l=n(83331),d=n(57953);let c=n.n(d)()(l.fetch);async function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,i=new(o()),a=i.signal,s=setTimeout(()=>i.abort(),n);return(t&&void 0!==t.retries&&t.retries>0?c:(0,l.fetch))(e,{...t,signal:a}).then(e=>(clearTimeout(s),e)).catch(i=>{if("AbortError"===i.name)throw new r.JO({timeout:n,url:e,method:t?.method??"get"});throw clearTimeout(s),i})}class p{constructor(e,t){return this.method=e,this.url=t,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._retryOptions=null,this._headers={},this._includeCredentials=!1,this}withQueryParameters(e){this.queryParameters=e}withResponseType(e){this.responseType=e}withPostData(e){this.postData=e}withRetries(e){let{retries:t,retryOn:n,retryDelay:i}=e;this._retryOptions={retries:t,retryDelay:i,retryOn:n}}addHeader(e,t){return this._headers[e]=t,this}includeCredentials(){return this._includeCredentials=!0,this}async send(){let e;this.postData&&(e=this._headers["Content-Type"]?.startsWith("application/json;charset=UTF-8")?JSON.stringify(this.postData):this.postData);let t=new URLSearchParams(this.queryParameters).toString();return u(`${this.url}${t?`?${t}`:""}`,{method:this.method,body:e,credentials:this._includeCredentials?"include":void 0,headers:{"Content-Type":"text"===this.responseType?"text/plain":"application/json",...this._headers},...this._retryOptions}).then(async e=>{if(!e.ok){let t=r.O.fromResponse(e,this.method||"GET");throw(0,a.oy)(t,new URL(this.url).hostname),t}return{body:"text"===this.responseType?await e.text():await e.json(),status:e.status}}).catch(e=>{throw e})}}class m{constructor(){this._accessToken=null,this._market="",this._headers=[],this._globalRequestHeaders=[],this._shouldSendMarket=!0,this._shouldSendGlobalHeaders=!0,this._locale=null,this._retryStatusCodes=[503],this._retryDelay=1e3,this._shouldSendLocale=!1,this._shouldSendAuthorization=!0,this._host="",this.path="",this.responseType="json",this.queryParameters=void 0,this._method="GET",this.jsonContentType=!1,this.body=null,this._endpointIdentifier=null,this._startTimestamp=null,this._includeCredentials=!1}static setRequestImplementation(e){i=e}getRequestImplementation(){return i}set accessToken(e){this._accessToken=e}get market(){return this._market}set market(e){this._market=e}get locale(){return this._locale}set locale(e){this._locale=e}get globalRequestHeaders(){return this._globalRequestHeaders}set globalRequestHeaders(e){this._globalRequestHeaders=e}get startTimestamp(){return this._startTimestamp}get host(){return this._host}get method(){return this._method}get endpointIdentifier(){return this._endpointIdentifier}withHost(e){return this._host=e,this}withPath(e){return this.path=e,this}withResponseType(e){return this.responseType=e,this}withEndpointIdentifier(e){return this._endpointIdentifier=e,this}withQueryParameters(e){return this.queryParameters=e,this}withBody(e){return this.body=e,this}withMethod(e){return this._method=e,this}withRetries(e){let{retries:t,retryOn:n,retryDelay:i}=e;return this._retryCount=t,n&&(this._retryStatusCodes=n),i&&(this._retryDelay=i),this}withoutMarket(){return this._shouldSendMarket=!1,this}withoutGlobalHeaders(){return this._shouldSendGlobalHeaders=!1,this}withoutAuthorization(){return this._shouldSendAuthorization=!1,this}withLocale(e){return this._shouldSendLocale=!0,e&&(this._locale=e),this}withJsonContentType(){return this.jsonContentType=!0,this}withHeaders(e){return this._headers=e,this}withCredentials(){return this._includeCredentials=!0,this}onBeforeSend(e){}onAfterSend(e){}async send(){let e=new i(this.method,`${this._host}${this.path}`);this._shouldSendMarket&&this.market&&(this.queryParameters={...this.queryParameters,market:this.market}),this._shouldSendLocale&&this.locale&&(this.queryParameters={...this.queryParameters,locale:this.locale}),this.locale&&e.addHeader("Accept-Language",this.locale),this._retryCount&&e.withRetries({retries:this._retryCount,retryOn:this._retryStatusCodes,retryDelay:this._retryDelay}),e.withQueryParameters(this.queryParameters),e.withResponseType(this.responseType),this._shouldSendAuthorization&&this._accessToken&&e.addHeader("Authorization",`Bearer ${this._accessToken}`),e.addHeader("Accept","application/json"),this._includeCredentials&&e.includeCredentials(),this._shouldSendGlobalHeaders&&this._globalRequestHeaders.length>0&&this._globalRequestHeaders.forEach(t=>{let[n,i]=t;e.addHeader(n,i)});for(let t=0;t<this._headers.length;t++){let n=this._headers[t];e.addHeader(n.key,n.value)}this.jsonContentType&&e.addHeader("Content-Type","application/json;charset=UTF-8"),this.body&&e.withPostData(this.body);try{this.onBeforeSend(e)}catch(e){return Promise.reject(e)}return this._startTimestamp=Date.now(),e.send().then(e=>(this.onAfterSend(),e)).catch(e=>{throw this.onAfterSend(e),e})}}class _{constructor(e){this._accessToken=null,this._market="",this._locale="",this._globalRequestHeaders=[],this._RequestImplementation=e}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}get globalRequestHeaders(){return this._globalRequestHeaders}set globalRequestHeaders(e){this._globalRequestHeaders=e}get market(){return this._market}set market(e){this._market=e}get locale(){return this._locale}set locale(e){this._locale=e}resetPendingRequests(){}build(){m.setRequestImplementation(this._RequestImplementation);let e=new m;return e.accessToken=this._accessToken,e.market=this.market,e.locale=this.locale,e.globalRequestHeaders=this.globalRequestHeaders,e}}let h=null;class y{static setSession(e){if(!e)return;let{accessToken:t}=e,n=this.getInstance();n.accessToken=t,t||n.resetPendingRequests()}static setLocale(e){this.getInstance().locale=e}static setGlobalRequestHeaders(e){this.getInstance().globalRequestHeaders=e}static setMarket(e){this.getInstance().market=e}static resetInstance(){h=null}static getInstance(){return h||(h=this.createNew()),h}static createNew(){return new _(p)}}},40608:e=>{e.exports={backgroundCoverArt:"BackgroundCoverArt_backgroundCoverArt__i5yOP"}},40675:(e,t,n)=>{"use strict";n.d(t,{Fv:()=>r,iG:()=>i,tx:()=>a});let i="CLOSE_OVERFLOW_MENU",a="SHOW_OVERFLOW_MENU",r="PLAY_ON_SPOTIFY_CLICK"},41276:e=>{e.exports={container:"Tag_container__ju3CN",isDarkTheme:"Tag_isDarkTheme__RUhz8",bold:"Tag_bold__ALYll"}},43357:(e,t,n)=>{"use strict";n.d(t,{L:()=>a,Z:()=>i});let i="INITIALIZE",a="MOUNTED"},43634:e=>{e.exports={coverArt:"CoverArtBase_coverArt__ne0XI"}},43695:(e,t,n)=>{"use strict";n.d(t,{p:()=>b});var i=n(7765),a=n(4209),r=n(81881),s=n(43116),o=n(31493),l=n(77228),d=n(15977),c=n(30451),u=n(14597),p=n(44783),m=n(77005),_=n(64667),h=n(8233),y=n(70777),v=n(36711),k=n(46069),f=n.n(k);let b=()=>{let e=(0,c.d4)(e=>e.data.entity?.type!==l.NQG.ARTIST),t=(0,c.d4)(e=>e.settings.isMobile),n=(0,h.j)(),k=(0,o.kj)(),b=(0,c.d4)(e=>e.settings.session.isAnonymous),g=(0,c.d4)(e=>e.data.entity?.isAudiobook?e.data.entity.relatedEntityUri:e.data.entity.uri),E=(0,c.d4)(e=>e.settings.isVideoEmbed),T=(0,u.aG)({productName:"embed_player_p",intent:u.pg.ADD_TO_LIBRARY}),[w,S]=(0,p.A)(g),{width:x}=d.useContext(m.k);if(!e||void 0===w)return null;let N=w[g]?k("embed.saved-on-spotify","Saved on Spotify","Button`s text that removes an item to the user`s library"):k("embed.save-on-spotify","Save on Spotify","Button`s text that adds an item to the user`s library"),C=async()=>{b?(n((0,_.d)({action_type:"click",action_intent:"deeplink",action_item_id:"save-on-spotify-button"})),(0,v.J)({url:T.embeddedEntity,newWindow:!t})):(n((0,_.d)({action_type:"click",action_intent:w[g]?"remove-from-spotify":"save-on-spotify"})),await S(!w[g]))};return(0,i.jsx)(a.H,{iconOnly:w[g]?r.k:s.P,"data-testid":"save-on-spotify-button",condensedAll:!0,title:N,"aria-label":N,onClick:C,semanticColor:"textBase",size:E&&x&&x>y.OM.mediumVideo?"large":"medium",className:f().addToLibraryButton})}},44083:e=>{e.exports={playerControlsWrapper:"PlayerControlsShort_playerControlsWrapper__qdkr5",addToLibraryCompactWrapper:"PlayerControlsShort_addToLibraryCompactWrapper__vXwv0",overflowMenuButtonWrapper:"PlayerControlsShort_overflowMenuButtonWrapper__qNhz2",previewPlayPauseWrapper:"PlayerControlsShort_previewPlayPauseWrapper__39zQA",skipButtonsWrapper:"PlayerControlsShort_skipButtonsWrapper__8Nqc6"}},44783:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(15977),a=n(30451),r=n(71064),s=n(83306);function o(e){let t=(0,i.useContext)(r.Z),n=t?.containsSync(e),o=n?{[e]:n}:void 0,[l,d]=(0,i.useState)(o),c=(0,a.d4)(e=>e.settings.session.isAnonymous),u=l&&void 0!==l[e],p=(0,i.useCallback)(async n=>{n?await t?.add(e):await t?.remove(e)},[e,t]);return(0,i.useEffect)(()=>{let n;if(t&&!c)if(u){let i=t=>{let{data:n}=t;e===n.uri&&d(t=>({...t,[e]:n.isInLibrary}))};t.getEvents().addListener(s.U.UPDATE_ITEM,i),n=()=>{t.getEvents().removeListener(s.U.UPDATE_ITEM,i)}}else t.contains(e).then(t=>{let[n]=t;return d(t=>t?{...t,[e]:n}:{[e]:n})});return c&&d(t=>({...t,[e]:!1})),n},[t,c,e,u]),[l,p]}},45401:e=>{e.exports={container:"Marquee_container__CV7du",containerRtl:"Marquee_containerRtl__1Gbu_",scrollableContainer:"Marquee_scrollableContainer__mcSox",gradient:"Marquee_gradient__dpJhe",inner:"Marquee_inner__UKCZf"}},46069:e=>{e.exports={addToLibraryButton:"AddToLibraryCompact_addToLibraryButton__eRbCq"}},47637:e=>{e.exports={wrapper:"AddToLibrary_wrapper__FZKUv"}},48614:e=>{e.exports={text:"UpsellTitle_text__28Mv1"}},50713:(e,t,n)=>{var i={"./af/strings.json":[48404,8404],"./am/strings.json":[78181,8181],"./ar-EG/strings.json":[91139,1139],"./ar-MA/strings.json":[25749,5749],"./ar-SA/strings.json":[63543,3543],"./ar/strings.json":[23768,3768],"./az/strings.json":[50016,16],"./bg/strings.json":[50464,464],"./bho/strings.json":[89870,9870],"./bn/strings.json":[42579,2579],"./bs/strings.json":[66140,6140],"./ca/strings.json":[51735,1735],"./cs/strings.json":[25365,5365],"./da/strings.json":[8032,8032],"./de/strings.json":[14028,4028],"./el/strings.json":[29886,9886],"./en-GB/strings.json":[34734,4734],"./es-419/strings.json":[63436,3436],"./es-AR/strings.json":[68701,8701],"./es-MX/strings.json":[11499,1499],"./es/strings.json":[99855,9855],"./et/strings.json":[24326,4326],"./eu/strings.json":[86577,6577],"./fa/strings.json":[34438,4438],"./fi/strings.json":[55278,5278],"./fil/strings.json":[3014,3014],"./fr-CA/strings.json":[36542,6542],"./fr/strings.json":[33555,3555],"./gl/strings.json":[54668,4668],"./gu/strings.json":[76367,6367],"./he/strings.json":[71056,1056],"./hi/strings.json":[63156,3156],"./hr/strings.json":[88949,8949],"./hu/strings.json":[64768,4768],"./id/strings.json":[82618,2618],"./is/strings.json":[16395,6395],"./it/strings.json":[12746,2746],"./ja/strings.json":[35954,5954],"./kn/strings.json":[94894,4894],"./ko/strings.json":[64313,4313],"./lt/strings.json":[14607,4607],"./lv/strings.json":[99485,9485],"./mk/strings.json":[74319,4319],"./ml/strings.json":[49190,9190],"./mr/strings.json":[68972,8972],"./ms/strings.json":[61927,1927],"./nb/strings.json":[79323,9323],"./ne/strings.json":[49658,9658],"./nl/strings.json":[33997,3997],"./or/strings.json":[64094,4094],"./pa-IN/strings.json":[92520,2520],"./pa-PK/strings.json":[19494,9494],"./pl/strings.json":[8811,8811],"./pt-BR/strings.json":[6974,6974],"./pt-PT/strings.json":[88174,8174],"./ro/strings.json":[24808,4808],"./ru/strings.json":[58942,8942],"./sk/strings.json":[23277,3277],"./sl/strings.json":[22776,2776],"./sr/strings.json":[96234,6234],"./sv/strings.json":[10094,94],"./sw/strings.json":[63161,3161],"./ta/strings.json":[60528,528],"./te/strings.json":[31708,1708],"./th/strings.json":[33507,3507],"./tr/strings.json":[5737,5737],"./uk/strings.json":[70103,103],"./ur/strings.json":[2340,2340],"./vi/strings.json":[62494,2494],"./zh-CN/strings.json":[82013,2013],"./zh-HK/strings.json":[84769,4769],"./zh-TW/strings.json":[73769,3769],"./zu/strings.json":[78070,8070]};function a(e){if(!n.o(i,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],a=t[0];return n.e(t[1]).then(()=>n.t(a,19))}a.keys=()=>Object.keys(i),a.id=50713,e.exports=a},52233:e=>{e.exports={closeButton:"CloseButton_closeButton__FDeuo"}},52348:(e,t,n)=>{"use strict";n.d(t,{e:()=>p});var i=n(7765),a=n(46001),r=n.n(a),s=n(15977),o=n(14597),l=n(64667),d=n(8233),c=n(43634),u=n.n(c);let p=e=>{let{className:t,onClick:n}=e,a=(0,d.j)(),c=(0,s.useCallback)(e=>a((0,l.d)(e)),[a]),p=(0,o.aG)({productName:"embed_player_p"});return(0,i.jsx)("div",{onClick:()=>{n&&n(),c({action_type:"click",action_intent:"deeplink",action_item_id:"cover-art"}),window.open(p?.embeddedEntity,"_blank")},"aria-hidden":!0,className:r()(u().coverArt,t)})}},52839:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});var i=n(30451);let a=()=>!!(0,i.d4)(e=>e.data.entity?.visualIdentity)},53377:e=>{e.exports={circularContainer:"PreviewPlayButton_circularContainer__IPZte",circularInner:"PreviewPlayButton_circularInner___9inH",rangeBarRight:"PreviewPlayButton_rangeBarRight__7U2dx",rangeBarLeft:"PreviewPlayButton_rangeBarLeft__QqPAO",rangeBarProgress:"PreviewPlayButton_rangeBarProgress__m16Uz"}},54229:(e,t,n)=>{"use strict";let i;n.d(t,{q:()=>eN});var a=n(7765),r=n(2912),s=n(83713),o=n(31493),l=n(15977),d=n(30451),c=function(e){return e.InvalidURI="invalid_uri",e.PlaybackError="playback_error",e}({}),u=function(e){return e.READY="ready",e.PLAYBACK_STARTED="playback_started",e.PLAYBACK_UPDATE="playback_update",e.ERROR="error",e}({}),p=function(e){return e.PLAY_FROM_START="play_from_start",e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.TOGGLE_PLAY="toggle",e.SEEK="seek",e.LOAD_COMPLETE_ACK="load_complete_ack",e}({}),m=n(34930),_=n(64667),h=n(30878),y=n(97639),v=n(96115),k=n(72362),f=n(37787),b=n(77228);let g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addItemsToRootlist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"newPosition"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RootlistItemPositionInput"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addItemsToRootlist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"newPosition"},value:{kind:"Variable",name:{kind:"Name",value:"newPosition"}}},{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removePlaylistFromRootlist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeItemsFromRootlist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};var T=function(e){return e.AfterUri="AFTER_URI",e.BeforeUri="BEFORE_URI",e.BottomOfRootlist="BOTTOM_OF_ROOTLIST",e.TopOfRootlist="TOP_OF_ROOTLIST",e}({});let w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addEntitiesToLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}}]},S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areAlbumsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areArtistsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areTracksInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areShowsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcasts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"areEpisodesInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saved"}}]}}]}}]}}]},j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"arePlaylistsInLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"following"}}]}}]}}]}}]},P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"removeEntitiesFromLibrary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeLibraryItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"library"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]}}]};var L=n(83306);function R(e){return e===b.NQG.ALBUM||e===b.NQG.ARTIST||e===b.NQG.TRACK||e===b.NQG.SHOW||e===b.NQG.EPISODE||e===b.NQG.PLAYLIST_V2}function O(e){return e.map(e=>{if("GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename||"Chapter"===e.__typename)throw Error(`The typename: ${e.__typename} is not supported`);return"Playlist"===e.__typename?!!e?.following:!!e?.saved})}class I{constructor(e){this.requestGQL=e,this._events=new L.b,this._cache=new Map,this._pendingRequests=new Map}getEvents(){return this._events}async add(){let e;for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length){n.forEach(t=>{if(!(e=(0,b.o_h)(t))||!R(e.type))throw Error(`Unknown URI type: ${e?.type}`)});try{let t=e?.type===b.NQG.PLAYLIST_V2?await this.requestGQL(g,{newPosition:{fromUri:null,moveType:T.TopOfRootlist},uris:n}):await this.requestGQL(w,{uris:n});if(!t||t.errors)throw Error("GraphQL query failed");if(!t?.errors)for(let e of n)this._cache.set(e,!0),this._events.emit(L.U.UPDATE_ITEM,{uri:e,isInLibrary:!0})}catch(e){throw Error(`Error adding ${JSON.stringify(n)} to library: ${e}`)}}}async remove(){let e;for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length){n.forEach(t=>{if(!(e=(0,b.o_h)(t))||!R(e.type))throw Error(`Unknown URI type: ${e?.type}`)});try{let t=e?.type===b.NQG.PLAYLIST_V2?await this.requestGQL(E,{uris:n}):await this.requestGQL(P,{uris:n});if(!t||t.errors)throw Error("GraphQL query failed");for(let e of n)this._cache.set(e,!1),this._events.emit(L.U.UPDATE_ITEM,{uri:e,isInLibrary:!1})}catch(e){throw Error(`Error removing ${JSON.stringify(n)} from library: ${e}`)}}}async containsEntitiesOfType(e,t){if(0===t.length)return[];let n=async e=>{let n=await this.requestGQL(e,{uris:t});if(!n||n.errors)throw Error("GraphQL query failed");return n};switch(e){case b.NQG.ALBUM:return O((await n(S)).data.albums);case b.NQG.ARTIST:return O((await n(x)).data.artists);case b.NQG.TRACK:return O((await n(N)).data.tracks);case b.NQG.SHOW:return O((await n(C)).data.podcasts);case b.NQG.EPISODE:return O((await n(A)).data.episodes);case b.NQG.PLAYLIST_V2:return O((await n(j)).data.playlistsV2);default:throw Error(`Unknown URI type: ${e}`)}}containsSync(e){return this._cache.get(e)}async contains(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];let a=[];{let e=[];if(n.forEach(t=>{let n=this._cache.get(t);void 0!==n?e.push(n):a.push(t)}),e.length===n.length)return e}let r=(e=e=>{let t=(0,b.o_h)(e);if(null===t||!R(t.type))throw Error(`Unknown URI type: ${t?.type}`);return t.type},a.reduce((t,n)=>{let i=e(n);return(t[i]=t[i]||[]).push(n),t},{}));return await Promise.all(Object.entries(r).map(async e=>{let t,[n,i]=e,a=i.join(",");this._pendingRequests.has(a)?t=this._pendingRequests.get(a):(t=this.containsEntitiesOfType(n,i),this._pendingRequests.set(a,t));let r=await t;i.forEach((e,t)=>{this._cache.set(e,r[t]),this._events.emit(L.U.UPDATE_ITEM,{uri:e,isInLibrary:r[t]})}),this._pendingRequests.delete(a)})),n.map(e=>this._cache.get(e))}}var D=n(71064),B=n(23772),M=n(81531),U=n(77082),F=n(96796);let V=F.env.DEBUG_EVENT_SENDER;var W=n(60360),G=n(21498);async function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;try{return await e()}catch(i){if(t)return await new Promise(e=>setTimeout(e,n)),q(e,t-1,n);throw Error("Import failed after retry.",{cause:i})}}async function H(e){let{createHarmonyPlayer:t}=await q(()=>Promise.all([n.e(3970),n.e(7692),n.e(5824)]).then(n.bind(n,85758)));return t(e)}async function Y(e,t){let{createStandalonePlayer:i}=await q(()=>Promise.all([n.e(3970),n.e(7692),n.e(4847)]).then(n.bind(n,58824)));return i(e,t)}let K=async(e,t,n)=>{let{playbackMode:i,platformSupportsEncryptedContent:a}=await n,r=!t.settings.session.isAnonymous;return!(0,W.BT)(t)&&i===G.L.FULL||(0,W.o2)(t)&&r&&i===G.L.PREVIEW&&a?H(e):Y(e,t)};var Q=n(42669),$=n(51460),z=n(96985);let X=(0,l.createContext)(null);var J=n(77005),Z=n(86143),ee=n(10895),et=n(14737),en=n(30276),ei=n(79348),ea=n(43357),er=n(25921),es=n(4389),eo=n(32277),el=n(40675);let ed={initialized:!1,showOverflowMenu:!1,playbackMode:G.L.UNKNOWN,platformSupportsEncryptedContent:!1,currentPreviewTrackIndex:0},ec=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ed,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ea.Z:return{...e,initialized:!0};case el.tx:return{...e,showOverflowMenu:!0};case el.iG:return{...e,showOverflowMenu:!1};case G.b:return{...e,playbackMode:t.playbackMode,platformSupportsEncryptedContent:t.platformSupportsEncryptedContent};case v.j5:return{...e,currentPreviewTrackIndex:t.index};default:return e}},eu=e=>(0,Z.HY)({data:()=>e.data,settings:()=>e.settings,machineState:ec});var ep=n(36945);function em(e){if("undefined"!=typeof TextEncoder)return new TextEncoder().encode(e);let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}var e_=n(21434),eh=n.n(e_);let ey=async function(e){let t=em(e);return eh().createHash("sha256").update(t).digest("hex")};class ev{static #e=this.encode=em;static #t=this.hash=ey}var ek=n(71135);function ef(e){return"OperationDefinition"===e.kind}let eb="https://api-partner.spotify.com/pathfinder/v1";async function eg(e){return{persistedQuery:{version:1,sha256Hash:await ev.hash(e.body)}}}async function eE(e,t,n,i,a){let{type:r,name:s}=t;return e.build().withHost(eb).withMethod("mutation"===r?"POST":"GET").withoutMarket().withPath("/query").withJsonContentType().withRetries({retries:2,retryDelay:800,retryOn:[503]}).withQueryParameters({operationName:s,variables:JSON.stringify(n),extensions:JSON.stringify(i),...a}).withEndpointIdentifier(`/query/${s}`).send()}async function eT(e,t,n,i,a){let{name:r,body:s}=t;return e.build().withHost(eb).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({operationName:r,variables:n,query:s,extensions:i}).withQueryParameters({...a}).withEndpointIdentifier(`/query/${r}`).send()}async function ew(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=await eg(t);try{let r=await eE(e,t,n,a,i);if(r.body?.errors?.some(e=>"PersistedQueryNotFound"===e.message))return eT(e,t,n,a,i);return r}catch(r){if(r instanceof ep.O&&405===r.status)return eT(e,t,n,a,i);throw r}}var eS=n(70777);async function ex(){let{checkPlatform:e}=await Promise.all([n.e(3970),n.e(6888)]).then(n.bind(n,26888));return e()}let eN=e=>{let{children:t,props:{config:g,state:E}}=e,[T,w]=(0,l.useState)(function(e){let t=eu(e);return(0,eo.U1)({reducer:t,preloadedState:e})}(E)),[S,x]=(0,l.useState)(null),[N,C]=(0,l.useState)(null),[A,j]=(0,l.useState)(null),[P]=(0,l.useState)(()=>(0,o.hU)(g.strings,{type:"backend",async read(e,t,i){try{if("en"===e)return i(null,{});return i(null,await n(50713)(`./${e}/strings.json`))}catch{return i(null,{})}}}));return(0,B.E)(g),(0,l.useEffect)(()=>{var e;f.n.setSession(E.settings.session);let t=(e=>{if(i)return i;let t=(0,Q.createBaseTransport)({providers:{endpoints:(0,Q.createXResolveProvider)(),token:function(e){var t;let n;return t=async()=>{let t;if(e&&!(Date.now()>=e.accessTokenExpirationTimestampMs))t=e;else{if(null===(t=(await f.n.getInstance().build().withPath("/embed/api/token").withoutMarket().withoutAuthorization().withEndpointIdentifier("/embed/api/token").send()).body))throw Error("Token is currently unavailable.");f.n.setSession(t)}let{accessToken:n,accessTokenExpirationTimestampMs:i}=t;return[n,Math.floor(((i||0)-Date.now())/1e3)]},n=null,async()=>{let e;if(n)return n;n=t();try{e=await n}finally{n=null}return e}}(e.tokenFromServer)},disconnectBeforeUnload:!0,reconnectionRetries:3,requestMode:"fetch"});return e.useDealer&&t.addPlugin($.kJ,{WebSocket:WebSocket}),t.on(Q.TransportEvent.CONNECTED,()=>{t.isAuthenticated()||t.authenticate()}),t.on(Q.TransportEvent.DISCONNECTED,()=>{t.connect()}),t.connect(),i=t,t})({useDealer:!E.settings.session.isAnonymous,tokenFromServer:E.settings.session}),n=ex().catch(()=>!1).then(e=>({playbackMode:((e,t)=>{let n=(0,W.BT)(t),i=!(0,W.yY)(t),a=t.settings.isSpotifyDesktopApp;return n&&a&&t.data.defaultAudioFileObject.passthrough===v.Z4.NONE?G.L.PREVIEW:n&&(e||t.data.defaultAudioFileObject.passthrough!==v.Z4.NONE&&t.data.defaultAudioFileObject.passthroughUrl)||!n&&e&&!(e=>{let{settings:{session:t}}=e;return!!(!t.accessToken||t.isAnonymous)})(t)&&!(e=>{let{settings:t}=e;return!!t.isMobile})(t)&&!(e=>{let{settings:t}=e;return!!t.isSafari})(t)||t.settings.isVideoEmbed&&i?G.L.FULL:G.L.PREVIEW})(e,E),platformSupportsEncryptedContent:e}));K(t,E,n).then(e=>{let{playerAPI:t}=e;C(t)}),j(new I((e=f.n.getInstance(),async function(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=function(e){let t=e.definitions.filter(ef);if(0===t.length)throw Error("No GraphQL operation definition found in document!");if(t.length>1)throw Error("Too many GraphQL operation definitions found in document! Expected exactly one.");let[n]=t;if(void 0===n.name)throw Error("Nameless GraphQL operations are not supported!");return{type:n.operation,name:n.name.value,body:(0,ek.y)(e)}}(t);if("subscription"===a.type)throw Error("GraphQL subscriptions are not supported!");return(await ew(e,a,n,i)).body})));let{correlationId:a,clientId:r}=g,s=((e,t,n)=>{let i=(0,M.kE)({transport:e,suppressPersist:!1,context:[(0,U.createClientIdContext)(t),(0,U.createApplicationContext)({version:F.env.__BUILD_VERSION__}),(0,U.createUserAgentContext)(),(0,U.createCorrelationIdContext)(n)],ownerProvider:()=>null,storagePrefix:t});return V&&(i._send=i.send,i.send=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return console.log("EventSender.send"),console.table(e),i._send(e,...n)},i.addListeners({[M.ky.UPLOAD_SUCCEEDED]:e=>{console.log(`EventSender: uploaded ${e.data.num_events} events`)},[M.ky.UPLOAD_FAILED]:e=>{console.error("EventSender: upload failed",e)}})),i})(t,r,a);x(s);let o=function(e,t){let n=Z.Zz,i=[e=>{let{data:{entity:n},settings:{session:{isAnonymous:i=!1}}}=e.getState(),a=n?.uri??"";function r(e){return t.send((0,et.i)(e))}let{osName:s,osVersion:o,browserName:l,browserVersion:d}=(0,es.F)(),c=(0,er.H)();return t=>n=>{let{data:u,settings:p,machineState:m}=e.getState(),_=(0,b.o_h)(u.embeded_entity_uri),h=u.entity?.isAudiobook?en.c.AUDIOBOOK:_?.type,y=m.playbackMode===G.L.PREVIEW,v={device_type:p.isMobile||p.isTablet?"mobile":"desktop",view_uri:a,entity_uri:_?.toURI(),entity_type:h,embed_is_video:!!p.isVideoEmbed,page_url:window.location.href,referrer:c,viewport_width:window.innerWidth,viewport_height:window.innerHeight,is_authenticated:!i,browser_name:l,browser_version:d,os_name:s,os_version:o,is_preview:y};switch(n.type){case ea.L:r({...v,action_type:"pageview",action_intent:null,action_item_id:null,item_uri:null});break;case ei.O:r({...v,action_type:n.interactionData.action_type,action_intent:n.interactionData.action_intent,action_item_id:n.interactionData.action_item_id,item_uri:n.interactionData.item_uri})}return t(n)}},ee.P],a=eu(e);return(0,eo.U1)({reducer:a,preloadedState:e,middleware:e=>e({immutableCheck:!1,composeEnhancer:n}).concat(i),duplicateMiddlewareCheck:!1})}(E,s);n.then(e=>{var t;let{playbackMode:n,platformSupportsEncryptedContent:i}=e;return(0,o.dispatch)((t=n||G.L.PREVIEW,{type:G.b,playbackMode:t,platformSupportsEncryptedContent:i})),n}),w(o)},[E,g]),!function(e,t){let{triggerPlaybackOperation:n}=(0,k.N)(e,t),i=(0,l.useRef)(!1);(0,l.useEffect)(()=>{if(!e)return()=>{};let a=i=>{let a=t.getState().settings.isVideoEmbed&&t.getState().data?.entity?.hasVideo,r=t.dispatch;switch(i.data?.command){case p.PLAY:case p.PLAY_FROM_START:n((0,m.ZH)(a?v.Xr.VIDEO:v.Xr.AUDIO)),r((0,_.d)({page:window.location.pathname,action_intent:"play",action_type:"iframe-api"}));break;case p.PAUSE:n((0,m.v7)()),r((0,_.d)({page:window.location.pathname,action_intent:"pause",action_type:"iframe-api"}));break;case p.RESUME:e.getState()?.hasContext?n((0,m.U)()):n((0,m.ZH)(a?v.Xr.VIDEO:v.Xr.AUDIO)),r((0,_.d)({page:window.location.pathname,action_intent:"resume",action_type:"iframe-api"}));break;case p.TOGGLE_PLAY:n((0,m.d5)(a?v.Xr.VIDEO:v.Xr.AUDIO)),r((0,_.d)({page:window.location.pathname,action_intent:"toggle",action_type:"iframe-api"}));break;case p.SEEK:{let e=parseInt(i.data?.timestamp,10);n((0,m.jF)(1e3*e)),r((0,_.d)({page:window.location.pathname,action_intent:"seek",action_type:"iframe-api"}))}break;case p.LOAD_COMPLETE_ACK:r((0,_.d)({page:window.location.pathname,action_intent:"load-episode",action_type:"iframe-api"}));break;default:return}};return window.addEventListener("message",a),i.current||(window.parent&&window.parent.postMessage({type:u.READY},"*"),i.current=!0),()=>{window.removeEventListener("message",a)}},[e,t,n,i]),(0,l.useEffect)(()=>(function(e){let t=!1,n=null;if(window.parent&&e){let i=e=>{if(e.data){let{isPaused:i,isBuffering:a,duration:r,positionAsOfTimestamp:s,hasContext:o,context:l}=e.data;window.parent.postMessage({type:u.PLAYBACK_UPDATE,payload:{isPaused:i,isBuffering:a,duration:r,position:s,playingURI:l.uri}},"*"),o&&!t&&(window.parent.postMessage({type:u.PLAYBACK_STARTED,payload:{playingURI:l.uri}},"*"),t=!0,n=l.uri),(o||i)&&n===l.uri||(t=!1,n=l.uri)}},a=e=>{var t=e.data;if(window.parent){let e={code:c.PlaybackError,message:`${t.code}: ${t.message}`,recoverable:t.type===h.Yq.TRANSIENT};window.parent.postMessage({type:u.ERROR,payload:e},"*")}};return e.getEvents().addListener(y.gd.UPDATE,i).addListener(y.gd.ERROR,a),()=>{e.getEvents().removeListener(y.gd.UPDATE,i).removeListener(y.gd.ERROR,a)}}return()=>{}})(e),[e])}(N,T),(0,a.jsx)(d.Kq,{store:T,serverState:T.getState(),children:(0,a.jsx)(D.Z.Provider,{value:A,children:(0,a.jsx)(o.OW.Provider,{value:P,children:(0,a.jsx)(o.YO,{value:g.locale,children:(0,a.jsx)(X.Provider,{value:S,children:(0,a.jsx)(z.v,{reduxStore:T,playerAPI:N,children:(0,a.jsxs)(s.K,{children:[(0,a.jsx)("base",{target:E.settings.isMobile?"_top":"_blank"}),(0,a.jsx)(r.mL,{styles:eS.E3}),(0,a.jsx)(J.G,{children:t})]})})})})})})})}},54408:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var i=n(30276);function a(e,t,n){if(t){if(e.entityType===i.c.CHAPTER)return e.isPlayable&&n;if(e.entityType===i.c.EPISODE&&!e.isPlayable&&e.audioPreview?.url)return!0}return e.isPlayable}},55236:(e,t,n)=>{"use strict";n.d(t,{n:()=>d});var i=n(15977),a=n(30451),r=n(64667),s=n(68342),o=n(8233),l=n(21498);function d(){let e=(0,o.j)(),t=(0,a.d4)(e=>e.machineState.playbackMode),n=(0,i.useCallback)(()=>"ontouchstart"in document.documentElement?"touchstart":"mouseover",[]),d=(0,i.useCallback)(()=>{document.removeEventListener(n(),d),e((0,s.n)()),e((0,r.d)({action_type:"interacted",action_intent:n()}))},[e,n]);(0,i.useEffect)(()=>(t&&t!==l.L.UNKNOWN&&(e((0,s.P)()),document.addEventListener(n(),d)),()=>{document.removeEventListener(n(),d)}),[e,d,t,n])}},59717:(e,t,n)=>{"use strict";n.d(t,{D:()=>T});var i=n(7765),a=n(86308),r=n(64890),s=n(89782),o=n(31493),l=n(46001),d=n.n(l),c=n(15977),u=n(30451),p=n(73314),m=n(96985),_=n(34930),h=n(64667),y=n(8233),v=n(96115),k=n(80005),f=n.n(k);let b=()=>(0,i.jsx)("div",{className:f().loadingSpinner});var g=n(34511),E=n.n(g);let T=e=>{let{maxTimeToNotShowLoading:t}=e,n=(0,y.j)(),{playbackState:l,triggerPlaybackOperation:k}=(0,c.useContext)(m.T),{isEntityPlayable:f}=(0,p.y)(),g=l?.isDisabled||!f,T=l?.isBuffering||!1,w=!!l?.hasContext,S=l?.item?.uri,x=!w||(l?.isPaused??!0),N=(0,o.kj)(),C=(0,u.d4)(e=>e.settings.isVideoEmbed),[A,j]=(0,c.useState)(N("page.loading","Loading","Accessibility label for loading spinner")),P=(0,c.useRef)(!1),L=(0,c.useRef)(void 0),R=(0,c.useRef)(void 0),[O,I]=(0,c.useState)(!1);(0,c.useEffect)(()=>{P.current?(T?L.current=setTimeout(()=>{L.current=void 0,T&&I(!0)},t||200):(L&&clearTimeout(L.current),O&&!R&&setTimeout(()=>{I(!1)},300)),O&&(R.current=setTimeout(()=>{R.current=void 0,T||I(!1)},300))):P.current=!0});let D=(0,c.useRef)(null);return(0,c.useEffect)(()=>{g?(j(N("spe.error_heading","Something went wrong","Accessibility label for error message")),D.current=(0,i.jsx)(a.x,{className:E().playPauseIcon,title:A,color:(0,r.cl)("textBase")})):O?(j(N("page.loading","Loading","Accessibility label for loading spinner")),D.current=(0,i.jsx)(b,{})):x?(j(N("embed_play","Play","Accessibility label for a button that plays preview of a track")),D.current=(0,i.jsx)(a.x,{className:E().playPauseIcon,title:A,color:(0,r.cl)("textBase")})):(j(N("embed_pause","Pause","Accessibility label for a button that pauses preview of a track")),D.current=(0,i.jsx)(s.B,{className:E().playPauseIcon,title:A,color:(0,r.cl)("textBase")}))},[O,x,N,A,g,f]),(0,i.jsx)("button",{"data-testid":"play-pause-button",className:d()(E().buttonWrapper,{[E().disabled]:g||!f,[E().adaptForVideo]:C}),onClick:()=>{g||(f?(k((0,_.d5)(C?v.Xr.VIDEO:v.Xr.AUDIO)),n((0,h.d)({action_type:"click",action_intent:!1===x?"pause":"play",action_item_id:"now-playing-bar",item_uri:S}))):n((0,h.d)({action_type:"playback",action_intent:"track-not-available",action_item_id:"now-playing-bar",item_uri:S})))},"aria-label":A,tabIndex:0,children:D.current})}},60360:(e,t,n)=>{"use strict";n.d(t,{BT:()=>a,M0:()=>s,o2:()=>r,yY:()=>o});var i=n(77228);let a=e=>{let{data:{entity:t}}=e;return t?.type===i.NQG.EPISODE&&!t?.isAudiobook},r=e=>{let{data:{entity:t}}=e;return t?.isAudiobook===!0&&!t.isRestrictedContent},s=e=>e.data.embeded_entity_uri,o=e=>{let{data:{defaultAudioFileObject:t}}=e;return!!t.video&&t.video[0]?.requiresDRM}},60433:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var i=n(15977),a=n(30451),r=n(96985),s=n(21498);let o=()=>{let e=(0,a.d4)(e=>{let{machineState:t}=e;return t.playbackMode}),t=(0,a.d4)(e=>{let{data:t}=e;return t.entity}),{playbackState:n}=(0,i.useContext)(r.T);if("artist"===t.type&&e===s.L.FULL){let e=t.trackList;return e?.find(e=>e.uri===n?.item?.uri)?.uid}return(e===s.L.FULL?n?.item?.uid:n?.context?.metadata?.uid)??void 0}},61081:(e,t,n)=>{"use strict";n.d(t,{y:()=>p});var i=n(7765),a=n(7770),r=n(31493),s=n(30451),o=n(14597),l=n(10903),d=n(64667),c=n(8233),u=n(74386);let p=()=>{let e=(0,r.kj)(),{isCompactLegacy:t}=(0,l.o)(),n=(0,s.d4)(e=>e.settings.isVideoEmbed),p=(0,c.j)(),m=(0,o.aG)({productName:n?"embed_player_v":"embed_player_p"}),_=e("play_on_spotify","Play on Spotify","Button that plays the viewed content in the Spotify client");return(0,i.jsx)(u.D,{ariaLabel:_,icon:t?void 0:a.D,onClick:()=>{p((0,d.d)({action_type:"click",action_intent:"deeplink",action_item_id:"play-on-spotify"}))},href:m.embeddedEntity?m.embeddedEntity:void 0,testId:"play-on-spotify-button",children:_})}},61188:(e,t,n)=>{"use strict";n.d(t,{oy:()=>r}),n(67510);var i=n(86727),a=n(70920);let r=(e,t)=>{let n=e instanceof Error?e:Error(String(e));(0,a.fE)({metric_type:i.MetricTypes.COUNTER,what:"error",tags:{errorName:n.name??JSON.stringify(n),type:"network",serviceName:t,status:void 0!==n.status?String(n.status):"UNKNOWN_STATUS"},value:1})}},62193:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let i=e=>e<10?`0${e}`:`${e}`,a=e=>{let t=Math.abs(e),n=Math.floor(t/36e5),a=Math.floor(t%36e5/6e4)||0,r=Math.floor(t%6e4/1e3)||0,s=[n?`${n}`:"",i(a),i(r)].filter(e=>e).join(":");return`${e<0?"-":""}${s}`}},64667:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var i=n(79348);function a(e){return{type:i.O,interactionData:e}}},65084:(e,t,n)=>{"use strict";n.d(t,{G:()=>_});var i=n(7765),a=n(17224),r=n(51524),s=n(31493),o=n(46001),l=n.n(o),d=n(15977),c=n(30451);let u=e=>{let t=new Date;return new Date(e).getTime()-t.getTime()};var p=n(79181),m=n.n(p);let _=e=>{let{visibleCells:t,onCountDownEnds:n}=e,o=(0,c.d4)(e=>e.data.entity?.releaseDate),{days:p,hours:_,minutes:h,seconds:y}=(e=>{let{releaseDate:t,onCountDownEnds:n}=e,[i,a]=(0,d.useState)(0);return(0,d.useEffect)(()=>{a(u(t))},[t]),(0,d.useEffect)(()=>{let e=setInterval(()=>{let i=u(t);i<=0?(n?.(),clearInterval(e)):a(i)},1e3);return()=>clearInterval(e)},[t,n]),(e=>e<=0?{days:"00",hours:"00",minutes:"00",seconds:"00"}:{days:Math.floor(e/864e5).toString().padStart(2,"0"),hours:Math.floor(e/36e5%24).toString().padStart(2,"0"),minutes:Math.floor(e/6e4%60).toString().padStart(2,"0"),seconds:Math.floor(e/1e3%60).toString().padStart(2,"0")})(i)})({releaseDate:o?.isoString||"",onCountDownEnds:n}),v=(0,s.kj)(),k=t.includes("days")&&"00"!==p,f=t.includes("hours")&&("00"!==p||"00"!==_),b=t.includes("minutes")&&("00"!==p||"00"!==_||"00"!==h),g=t.includes("seconds")&&("00"!==p||"00"!==_||"00"!==h||"00"!==y),E=(0,d.useMemo)(()=>"01"===p?v("pre_release.countdown.day","Day","Countdown label for a day"):v("pre_release.countdown.days","Days","Countdown label for days"),[p,v]),T=(0,d.useMemo)(()=>"01"===_?v("pre_release.countdown.hour","Hour","Countdown label for an hour"):v("pre_release.countdown.hours","Hours","Countdown label for hours"),[_,v]),w=(0,d.useMemo)(()=>"01"===h?v("pre_release.countdown.minute","Minute","Countdown label for a minute"):v("pre_release.countdown.minutes","Minutes","Countdown label for minutes"),[h,v]),S=(0,d.useMemo)(()=>"01"===y?v("pre_release.countdown.second","Second","Countdown label for a second"):v("pre_release.countdown.seconds","Seconds","Countdown label for seconds"),[y,v]);return(0,i.jsxs)(a.a,{borderRadius:"larger",className:m().countdownContainer,"data-testid":"prerelease-countdown",padding:"tighter-2",children:[k&&(0,i.jsxs)("div",{className:l()(m().column,{[m().divider]:t.includes("hours")}),children:[(0,i.jsx)(r.E,{className:m().dateInteger,variant:"titleSmall",children:p}),(0,i.jsx)(r.E,{variant:"marginal",color:"textSubdued",children:E})]}),f&&(0,i.jsxs)("div",{className:l()(m().column,{[m().divider]:t.includes("minutes")}),children:[(0,i.jsx)(r.E,{className:m().dateInteger,variant:"titleSmall",children:_}),(0,i.jsx)(r.E,{variant:"marginal",color:"textSubdued",children:T})]}),b&&(0,i.jsxs)("div",{className:l()(m().column,{[m().divider]:t.includes("seconds")}),children:[(0,i.jsx)(r.E,{className:m().dateInteger,variant:"titleSmall",children:h}),(0,i.jsx)(r.E,{variant:"marginal",color:"textSubdued",children:w})]}),g&&(0,i.jsxs)("div",{className:m().column,children:[(0,i.jsx)(r.E,{className:m().dateInteger,variant:"titleSmall",children:y}),(0,i.jsx)(r.E,{variant:"marginal",color:"textSubdued",children:S})]})]})}},68342:(e,t,n)=>{"use strict";n.d(t,{P:()=>r,n:()=>a});var i=n(43357);function a(){return{type:i.Z}}function r(){return{type:i.L}}},68710:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var i=n(7765),a=n(31493);n(15977);var r=n(94282);let s=e=>{let{className:t,fullText:n=!1,bold:s=!1}=e,o=(0,a.kj)()("card.a11y.explicit","Explicit","Label for explicit tagging, only read by accessibility tools");return(0,i.jsx)(r.v,{ariaLabel:o,text:n?o:"E",className:t,bold:s})}},71064:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let i=(0,n(15977).createContext)(null)},71386:e=>{e.exports={visibleOnlyToScreenReader:"ScreenReaderInput_visibleOnlyToScreenReader__TVvYo"}},71897:e=>{e.exports={saveOnSpotifyButton:"SaveOnSpotifyButton_saveOnSpotifyButton__QCoJx",saveOnSpotifyButtonText:"SaveOnSpotifyButton_saveOnSpotifyButtonText__6Jv6P"}},72362:(e,t,n)=>{"use strict";n.d(t,{N:()=>f});var i=n(15977),a=n(97639),r=n(21498);let s=e=>{let t=new URL(e.href).searchParams.get("t");if(t){let e=parseInt(t,10);if(e>0)return e}return null};var o=n(23772),l=n(36020),d=n(96115),c=n(54408),u=n(34930);let p=()=>({featureIdentifier:"embed",featureVersion:"3",referrerIdentifier:"PlayerStub_UnknownReferrer",restrictionIdentifier:(0,o.i)().restrictionId?(0,o.i)().restrictionId:void 0}),m=(e,t,n,i)=>t===r.L.PREVIEW?{...e,metadata:{...e.metadata,externalResolvedUrl:i===d.Xr.AUDIO?e.metadata?.audioPreviewUrl:e.metadata?.videoPreviewUrl}}:{...e,metadata:{...e.metadata,useAuthEndpoint:n?"yes":""}},_=(e,t)=>t.mediaType!==d.Xr.VIDEO?e:{...e,metadata:{...e.metadata,mediaType:d.Xr.VIDEO}},h=(e,t,n,i)=>{let a=n===r.L.PREVIEW;return e?.findIndex((e,n)=>n>t&&(0,c.C)(e,a,i))??-1},y=(e,t,n)=>e?.trackList&&t===r.L.PREVIEW?(0,l.O)(e.trackList[n??0]):(0,l.O)(e),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=t===r.L.PREVIEW;return e.slice(0,i+1).map(e=>(0,c.C)(e,a,n)).reduce((e,t)=>t?e+1:e,0)-1};async function k(e,t,n){let{settings:i,machineState:a,data:{entity:o,defaultAudioFileObject:l}}=t.getState(),f=t.dispatch,b=i.session.isAnonymous,g=a.playbackMode===r.L.PREVIEW,E=y(o,a.playbackMode),T=e.getState();switch(n.type){case d.CU:if(o?.trackList&&g&&!T?.hasContext){let n=i.isAudiobookLaunchedInGeoMarket??!1,a=o.trackList.findIndex(e=>(0,c.C)(e,g,n));if(-1===a)break;await k(e,t,(0,u.h2)(a))}else if(T?.hasContext&&T?.isPaused===!1)await e.pause();else if(T?.hasContext&&T?.isPaused===!0)await e.resume();else{let t=s(window.location),i=m(_(E,n),a.playbackMode,!b,n.mediaType);await e.play(i,p(),{seekTo:t?1e3*t:void 0},l)}break;case d.tr:{let t=s(window.location),i=m(_(E,n),a.playbackMode,!b,n.mediaType);await e.play(i,p(),{seekTo:t?1e3*t:void 0},l)}break;case d.WO:if(g){let t=m(_(y(o,a.playbackMode,n.index),n),a.playbackMode,!b,n.mediaType);await e.play(t,p(),{},l),f((0,u.TB)(n.index))}else{let t=m(_(E,n),a.playbackMode,!b,n.mediaType),r=t.pages?.length!==o?.trackList?.length&&t.pages?v(o?.trackList,a.playbackMode,i.isAudiobookLaunchedInGeoMarket??!1,n.index):n.index;await e.play(t,p(),{skipTo:{index:r}},l)}break;case d.IY:await e.resume();break;case d.Hz:await e.pause();break;case d.NI:if(n.time&&Number.isFinite(n.time))await e.seekTo(n.time);else if(n.percentage&&Number.isFinite(n.percentage)){let t=T?.duration||Number(E.metadata?.duration);await e.seekTo(n.percentage*t)}break;case d.r2:await e.seekForward(15e3);break;case d.hM:await e.seekBackward(15e3);break;case d.lQ:if(g){let n=h(o?.trackList,a.currentPreviewTrackIndex,a.playbackMode,i.isAudiobookLaunchedInGeoMarket??!1);if(n>=0)await k(e,t,(0,u.h2)(n));else{let n=o?.trackList?.findIndex(e=>(0,c.C)(e,g,i.isAudiobookLaunchedInGeoMarket??!1))??-1;n>=0&&await k(e,t,(0,u.h2)(n))}}else await e.skipToNext();break;case d.rp:if(g){if(T&&null!==T.positionAsOfTimestamp&&(T.positionAsOfTimestamp>3e3||0===a.currentPreviewTrackIndex))await e.seekTo(0);else if(a.currentPreviewTrackIndex>0){let n=((e,t,n,i)=>{let a=n===r.L.PREVIEW;for(let n=t-1;n>=0;n--)if(e&&(0,c.C)(e[n],a,i))return n;return -1})(o?.trackList,a.currentPreviewTrackIndex,a.playbackMode,i.isAudiobookLaunchedInGeoMarket??!1);n>=0&&await k(e,t,(0,u.h2)(n))}}else await e.skipToPrevious();break;case d.oD:await e.mute();break;case d.zK:await e.unmute()}}let f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,[o,l]=(0,i.useState)(n),[d,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=s(window.location);e&&l({...n,positionAsOfTimestamp:1e3*e})},[n]);let p=(0,i.useCallback)(n=>e&&k(e,t,n),[e,t]),{machineState:{playbackMode:m,currentPreviewTrackIndex:_},settings:{isAudiobookLaunchedInGeoMarket:y},data:{entity:v}}=t.getState();return(0,i.useEffect)(()=>{if(!d||m!==r.L.PREVIEW||!v?.trackList)return;let e=v.trackList.length>_+1,t=_>=v.trackList.length-1;if(e){let e=h(v.trackList,_,m,y??!1);e>=0?(c(!1),p((0,u.h2)(e))):(c(!1),p((0,u.TB)(0)))}else t&&(c(!1),p((0,u.TB)(0)))},[d,p,m,v?.trackList,_,y]),(0,i.useEffect)(()=>{let t=e=>{l(t=>({...t,...e.data}))},n=e=>{l(t=>({...t,isDisabled:!0,error:{...e.data,message:e.data.message}}))},i=()=>{c(!0)};if(e){let r=e.getEvents();r.addListener(a.gd.UPDATE,t),r.addListener(a.gd.ERROR,n),r.addListener(a.gd.TRACK_ENDED,i),l(e=>({...e,isDisabled:!1}))}else l(e=>({...e,isDisabled:!0}));return()=>{if(e){let r=e.getEvents();r.removeListener(a.gd.UPDATE,t),r.removeListener(a.gd.ERROR,n),r.removeListener(a.gd.TRACK_ENDED,i)}}},[e]),{playbackState:o,triggerPlaybackOperation:p}}},73314:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var i=n(71343),a=n(15977),r=n(30451),s=n(21498),o=n(30276),l=n(54408);let d=(0,i.Mz)([e=>e.data.entity,e=>e.settings.session.isAnonymous,e=>e.machineState.platformSupportsEncryptedContent,e=>e.machineState.playbackMode,e=>e.settings.isAudiobookLaunchedInGeoMarket??!1],(e,t,n,i,a)=>({entity:e,isAnonymous:t,platformSupportsEncryptedContent:n,playbackMode:i,isAudiobookLaunchedInGeoMarket:a})),c=()=>{let{entity:e,isAnonymous:t,platformSupportsEncryptedContent:n,playbackMode:i,isAudiobookLaunchedInGeoMarket:c}=(0,r.d4)(d),u=(0,a.useMemo)(()=>(function(e){let{entity:t,options:n}=e,{playbackMode:i}=n;if(!t||i===s.L.UNKNOWN||!t.isPlayable)return!1;let a=i===s.L.PREVIEW;if(t.isAudiobook){var r=n;let{playbackMode:e,platformSupportsEncryptedContent:t,isAnonymous:i,isAudiobookLaunchedInGeoMarket:a}=r;return!(!i&&!t&&e===s.L.PREVIEW&&!a)}if(t.type===o.c.PLAYLIST){var d=t,c=n;let{trackList:e}=d,{playbackMode:i,isAudiobookLaunchedInGeoMarket:a}=c;if(!e||0===e.length)return!1;let r=i===s.L.PREVIEW;return e.some(e=>(0,l.C)(e,r,a))}return t.type!==o.c.TRACK&&t.type!==o.c.EPISODE||!(a&&t?.audioPreview===null)})({entity:e,options:{playbackMode:i,platformSupportsEncryptedContent:n,isAnonymous:t,isAudiobookLaunchedInGeoMarket:c}}),[e,i,c,t,n]),p=i===s.L.PREVIEW;return{isEntityPlayable:u,tracklistPlayability:(0,a.useMemo)(()=>(e?.trackList||[])?.reduce((e,t)=>(e[t.uri]=(0,l.C)(t,p,c),e),{}),[e?.trackList,p,c])}}},74303:(e,t,n)=>{"use strict";n.d(t,{G:()=>p});var i=n(7765),a=n(4209),r=n(62552),s=n(31493),o=n(64667),l=n(75398),d=n(8233),c=n(85817),u=n.n(c);let p=()=>{let e=(0,d.j)(),t=(0,s.kj)()("embed_more","More","Accessibility label for an open context menu button");return(0,i.jsx)(a.H,{condensedAll:!0,size:"small",className:u().overflowMenuButton,semanticColor:"textBase",title:t,"aria-label":t,onClick:()=>{e((0,l.v7)()),e((0,o.d)({action_type:"click",action_intent:"open-context-menu"}))},children:(0,i.jsx)(r.x,{})})}},74309:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var i=n(7765),a=n(46001),r=n.n(a),s=n(15977),o=n(30451),l=n(93512),d=n(45401),c=n.n(d);let u=e=>{let{children:t,title:n}=e,a=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,s.useRef)(null),p=(0,s.useRef)(0),m=(0,s.useRef)("scrolling"),_=(0,o.d4)(e=>e.settings.rtl)?"rtl":"ltr",h=(0,s.useRef)(void 0),y=(e=>{let t=(0,s.useMemo)(()=>window.matchMedia(e),[e]),[n,i]=(0,s.useState)(()=>!t||t.matches);return(0,s.useEffect)(()=>{if(!t||!t.addEventListener)return()=>{};let e=e=>{i(e.matches)};return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}},[t]),n})("(prefers-reduced-motion: reduce)"),v=(0,s.useRef)({initialMouseInteraction:null,animationOnMount:null}),k=(0,s.useCallback)(()=>u.current&&a.current?u.current.clientWidth-a.current.clientWidth:0,[]),f=(0,s.useCallback)(()=>h&&"rtl"===h.current?1:-1,[h]),b=(0,s.useCallback)(()=>{let e=k();return e>0&&_!==h.current?0+-1*f()*e:0},[k,_,f]),g=(0,s.useCallback)(()=>{u.current?.style.setProperty("--trans-x",`${b()}px`)},[b]),E=(0,s.useCallback)(()=>{if(y||p.current)return;let e=!1,t=0,n=1,i=!1,a=r=>{let s=k();if(s<=0)return;let o=!0,l=t;e&&(i?r>i+1200&&(i=!1):"paused"===m.current||((l+=(r-e)*60/1e3*n*.2)>s?(n*=-1,i=r,l=s):l<0&&(n*=-1,i=r,l=0,o=!1)),t=l,d.current.scrollLeft=t),e=r,p.current=0,o&&(p.current=requestAnimationFrame(a))};m.current="scrolling",a(0)},[.2,1200,k,y]),T=(0,s.useCallback)(()=>p.current,[]),w=(0,s.useCallback)(()=>{m.current="paused"},[]),S=(0,s.useCallback)(()=>{m.current="scrolling"},[]),x=(0,s.useCallback)(()=>{cancelAnimationFrame(p.current),m.current="paused",p.current=0},[]),N=(0,s.useCallback)(()=>{Object.values(v.current).forEach(e=>e&&clearTimeout(e))},[]),C=(0,s.useCallback)(e=>{T()?w():"focus"!==e&&(v.current.initialMouseInteraction=setTimeout(E,200))},[E,w,200,T]),A=(0,s.useCallback)(()=>{v.current.initialMouseInteraction&&clearTimeout(v.current.initialMouseInteraction),T()&&S()},[S,T]);return(0,s.useEffect)(()=>{v.current.animationOnMount&&clearTimeout(v.current.animationOnMount),v.current.animationOnMount=setTimeout(E,1e3)},[E,1e3]),(0,s.useEffect)(()=>()=>{x(),N(),g()},[x,N,g]),(0,s.useEffect)(()=>{let e=u.current?.children[0];e&&(h.current=getComputedStyle(e).direction,"rtl"===h.current&&a.current?.classList.add(c().containerRtl)),g()},[_,b,g]),!function(e){let t=(0,l.YQ)(e,100,{leading:!0});(0,s.useEffect)(()=>(window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),t.cancel()}),[t])}(()=>{x(),g()}),(0,i.jsx)("div",{ref:a,className:c().container,onMouseOver:()=>C("mouse"),onFocus:()=>C("focus"),onMouseOut:A,onBlur:A,title:y&&n?n:void 0,children:(0,i.jsx)("div",{ref:d,className:r()(c().scrollableContainer,{[c().gradient]:k()>0}),children:(0,i.jsx)("div",{ref:u,className:c().inner,children:t})})})}},74386:(e,t,n)=>{"use strict";n.d(t,{D:()=>y});var i=n(7765),a=n(4209),r=n(91381),s=n(51524),o=n(46001),l=n.n(o),d=n(15977),c=n(30451),u=n(10903),p=n(77005),m=n(70777),_=n(75990),h=n.n(_);let y=e=>{let{variant:t="bodyMedium",icon:n,disabled:o=!1,className:_,href:y,children:v,title:k,ariaLabel:f,clickedAnimation:b=!1,testId:g,onClick:E}=e,{isCompactLegacy:T}=(0,u.o)(),w=T?a.H:r.$,{height:S}=(0,d.useContext)(p.k),x=(0,c.d4)(e=>e.settings.isVideoEmbed);return(0,i.jsx)(w,{colorSet:"base",disabled:o,className:l()(_,h().overflowButton,{[h().clicked]:b}),onClick:e=>{e.stopPropagation(),E?.()},iconLeading:n,title:k,"aria-label":f,href:y,"data-testid":g,size:S&&S<m.ht.large&&!x?"small":"medium",...T?{condensedAll:!0}:{colorSet:"base",fullWidth:!0},children:(0,i.jsx)(s.E,{variant:t,className:l()(h().truncator,h().text,{[h().compact]:T}),children:v})})}},75398:(e,t,n)=>{"use strict";n.d(t,{eL:()=>r,kD:()=>s,v7:()=>a});var i=n(40675);function a(){return{type:i.tx}}function r(){return{type:i.iG}}function s(e){return{type:i.Fv,productName:e}}},75990:e=>{e.exports={overflowButton:"OverflowButton_overflowButton__KR6lg",clicked:"OverflowButton_clicked__xDnu9",text:"OverflowButton_text__VM_aj","out-in":"OverflowButton_out-in__Xdrpp",compact:"OverflowButton_compact__U_g0C",truncator:"OverflowButton_truncator__ldTUs"}},76453:e=>{e.exports={progressTimeSpacer:"ProgressTimer_progressTimeSpacer__aN1q5",actualProgressTime:"ProgressTimer_actualProgressTime__kN3ww",progressTimer:"ProgressTimer_progressTimer__EIq8k",hideForSmallLandscape:"ProgressTimer_hideForSmallLandscape__kbEzw"}},77005:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,k:()=>s});var i=n(7765),a=n(15977);let r={width:null,height:null},s=(0,a.createContext)(r),o=e=>{let{children:t}=e,[n,o]=(0,a.useState)(r);return(0,a.useEffect)(()=>{o({width:window.innerWidth,height:window.innerHeight});let e=()=>{o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,i.jsx)(s.Provider,{value:{...n},children:t})}},79029:e=>{e.exports={followButtonWrapper:"FollowButton_followButtonWrapper__uMaPG",followButtonText:"FollowButton_followButtonText__axhEd"}},79113:e=>{e.exports={preSaveButton:"PreSaveButton_preSaveButton__6lIqM",preSaveButtonText:"PreSaveButton_preSaveButtonText__sJca0"}},79181:e=>{e.exports={countdownContainer:"Countdown_countdownContainer__Kx1gI",column:"Countdown_column__R_JOP",divider:"Countdown_divider__kt4CT",dateInteger:"Countdown_dateInteger__O3DNs"}},79348:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});let i="LOG_INTERACTION"},80005:e=>{e.exports={loadingSpinner:"LoadingSpinner_loadingSpinner__RhjXu",SpinAnimation:"LoadingSpinner_SpinAnimation__yiW4R"}},83306:(e,t,n)=>{"use strict";n.d(t,{U:()=>a,b:()=>r});var i=n(8159),a=function(e){return e.UPDATE_ITEM="update_item",e}({});class r extends i.bk{}},84787:(e,t,n)=>{"use strict";n.d(t,{o:()=>_});var i=n(7765),a=n(46001),r=n.n(a),s=n(30451),o=n(60360),l=n(36481),d=n(5198),c=n(61081),u=n(15993),p=n(88553),m=n.n(p);let _=()=>{let e=(0,s.d4)(e=>e.machineState.showOverflowMenu),t=(0,s.d4)(e=>(0,o.BT)(e)||e.data.entity?.isAudiobook?e.data.entity.relatedEntityUri:e.data.entity.uri);return(0,i.jsx)(u.N,{visible:e,children:(0,i.jsxs)("ul",{className:r()(m().menu,{[m().visible]:e}),children:[(0,i.jsx)("li",{className:m().menuItem,children:(0,i.jsx)(c.y,{})}),(0,i.jsx)("li",{className:m().menuItem,children:(0,i.jsx)(l.C,{uri:t})}),(0,i.jsx)("li",{className:m().menuItem,children:(0,i.jsx)(d.M,{})})]})})}},85817:e=>{e.exports={overflowMenuButton:"OverflowMenuButton_overflowMenuButton__JPKiT"}},86698:e=>{e.exports={tagList:"Tags_tagList__6JpKG",tag:"Tags_tag__bbXTA",hidden:"Tags_hidden__IArVG",condensedTags:"Tags_condensedTags__w_NCJ"}},88553:e=>{e.exports={menu:"OverflowMenuAudio_menu__Z7Mj5",visible:"OverflowMenuAudio_visible__neisd",menuItem:"OverflowMenuAudio_menuItem__hhrIj"}},92246:e=>{e.exports={fullscreenWrapper:"UpsellContent_fullscreenWrapper__yafMY",transition_enter:"UpsellContent_transition_enter__SPRuw",transition_enterActive:"UpsellContent_transition_enterActive__HOboE",transition_exit:"UpsellContent_transition_exit__r7VXK",transition_exitActive:"UpsellContent_transition_exitActive__dhScU",footerWrapper:"UpsellContent_footerWrapper__M_dNe",coverArtWrapper:"UpsellContent_coverArtWrapper__O1I7x",ctaWrapper:"UpsellContent_ctaWrapper___t9Gy",closeButton:"UpsellContent_closeButton__Rxr0B",content:"UpsellContent_content__YTOSs",metadataWrapper:"UpsellContent_metadataWrapper__iSJfD",labelsAndSubtitle:"UpsellContent_labelsAndSubtitle__2mVsp",playerControlsWrapper:"UpsellContent_playerControlsWrapper__HdcB9",coverArtUpsell:"UpsellContent_coverArtUpsell__bAFhO",playlistContainer:"UpsellContent_playlistContainer__ittRM"}},94282:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var i=n(7765),a=n(51524),r=n(46001),s=n.n(r),o=n(30451),l=n(41276),d=n.n(l);let c=e=>{let{text:t,ariaLabel:n=t,title:r=n,className:l,bold:c=!1}=e,u=(0,o.d4)(e=>e.settings.isDarkMode);return(0,i.jsx)(a.E,{"aria-label":n,className:s()(d().container,l,{[d().isDarkTheme]:u,[d().bold]:c}),title:r,"data-testid":"tag",children:t})}},96071:e=>{e.exports={wrapper:"OverflowMenuBase_wrapper__CyfQs",visible:"OverflowMenuBase_visible__bdlfX",menuContent:"OverflowMenuBase_menuContent__Kcicz",closeButton:"OverflowMenuBase_closeButton__pATy_",policies:"OverflowMenuBase_policies__r_Fbu",stickDown:"OverflowMenuBase_stickDown__xfZSA",link:"OverflowMenuBase_link__8OQFz",separator:"OverflowMenuBase_separator__l_I5t",adaptToOverflowMenu:"OverflowMenuBase_adaptToOverflowMenu__YeDTC"}},96115:(e,t,n)=>{"use strict";n.d(t,{CU:()=>r,Hz:()=>i,IY:()=>o,NI:()=>l,WO:()=>s,Xr:()=>y,Z4:()=>v,hM:()=>d,j5:()=>h,lQ:()=>u,oD:()=>m,r2:()=>c,rp:()=>p,tr:()=>a,zK:()=>_});let i="PAUSE",a="PLAY",r="TOGGLE_PLAY",s="PLAY_INDEX",o="RESUME",l="SEEK",d="SEEK_BACK",c="SEEK_FORWARD",u="PLAY_NEXT",p="PLAY_PREVIOUS",m="MUTE",_="UNMUTE",h="SET_CURRENT_PREVIEW_TRACK_INDEX",y={AUDIO:"audio",VIDEO:"video"},v={NONE:"NONE",ALLOWED:"ALLOWED",MANDATORY:"MANDATORY"}},96985:(e,t,n)=>{"use strict";n.d(t,{T:()=>s,v:()=>o});var i=n(7765),a=n(15977),r=n(72362);let s=(0,a.createContext)({playbackState:null,triggerPlaybackOperation:()=>{}}),o=e=>{let{children:t,reduxStore:n,playerAPI:a}=e,{playbackState:o,triggerPlaybackOperation:l}=(0,r.N)(a,n);return(0,i.jsx)(s.Provider,{value:{playbackState:o,triggerPlaybackOperation:l},children:t})}},97391:(e,t,n)=>{"use strict";n.d(t,{KY:()=>s,jT:()=>r});var i=n(1169),a=n(23772);function r(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=new URL("undefined"!=typeof location&&location.href?location.href:i.G),r=null;e?(r=new URL(e.toURL()),t&&n.searchParams.forEach((e,t)=>{r.searchParams.set(t,e)})):(r=n,t||(r.search="")),r.searchParams.delete("nd"),r.searchParams.delete("fallback"),r.searchParams.set("go","1");let s=(0,a.i)();return"string"==typeof s?.correlationId&&r.searchParams.append("sp_cid",s.correlationId),r}function s(e,t){let n=r(e,t);return n.searchParams.set("fallback","getapp"),n}},97451:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(7765),a=n(7770),r=n(31493),s=n(15977),o=n(1169),l=n(14597),d=n(77005),c=n(64667),u=n(8233),p=n(70777);let m=e=>{let{trackListLength:t,className:n,isVideoEntity:m}=e,_=(0,u.j)(),[h,y]=(0,s.useState)("large"),{width:v,height:k}=s.useContext(d.k),f=(0,l.aG)({productName:m?"embed_player_v":"embed_player_p"}),b=(0,r.kj)();(0,s.useEffect)(()=>{k&&v&&y(((e,t,n,i)=>n?t<=p.OM.smallVideo?"medium":t<=p.OM.mediumVideo?"large":"xlarge":e>=p.ht.large&&t>=p.OM.medium&&!i?"large":e>=p.ht.landscape?"medium":"small")(k,v,m,t))},[k,v,t,m]);let g=b("play_on_spotify","Play on Spotify","Button that plays the viewed content in the Spotify client");return(0,i.jsx)("a",{className:n,onClick:()=>{_((0,c.d)({action_type:"click",action_intent:"deeplink",action_item_id:"spotify-logo"}))},title:g,href:f?.embeddedEntity||o.G,role:"button","aria-label":g,"data-testid":"spotify-logo",children:(0,i.jsx)(a.D,{size:h,semanticColor:"textBase"})})}},97639:(e,t,n)=>{"use strict";n.d(t,{gd:()=>r,JW:()=>s});var i=n(8159);class a{constructor(e=new i.bk){this._emitter=e,this._emitter=e||new i.bk}addListener(e,t,n){return this._emitter.addListener(e,t,n),this}removeListener(e,t,n){return this._emitter.removeListener(e,t,n),this}onAddListener(e,t){return this._emitter.onAddListener(e,t),this}onRemoveListener(e,t){return this._emitter.onRemoveListener(e,t),this}emit(e,t){return this._emitter.emit(e,t)}emitSync(e,t){return this._emitter.emitSync(e,t)}}var r=function(e){return e.TRACK_LOADED="track_loaded",e.TRACK_ENDED="track_ended",e.UPDATE="update",e.ERROR="error",e.ACTION="action",e.QUEUE_ACTION="queue_action",e.QUEUE_ACTION_COMPLETE="queue_action_complete",e.QUEUE_UPDATE="queue_update",e.CONTEXT_WRAPAROUND="context_wraparound",e}({});class s extends a{emitPlaySync(e,t,n){let{defaultPrevented:i}=this.emitSync("action",{action:"play",context:e,origin:t,options:n});return i}emitPauseSync(){let{defaultPrevented:e}=this.emitSync("action",{action:"pause"});return e}emitResumeSync(){let{defaultPrevented:e}=this.emitSync("action",{action:"resume"});return e}emitSkipToNextSync(){let{defaultPrevented:e}=this.emitSync("action",{action:"skipToNext"});return e}emitSkipToPreviousSync(){let{defaultPrevented:e}=this.emitSync("action",{action:"skipToPrevious"});return e}}},99361:e=>{e.exports={progressBarContainer:"ProgressBar_progressBarContainer__glVHh",progressBarLineActive:"ProgressBar_progressBarLineActive__eawR7",progressBarLineBackground:"ProgressBar_progressBarLineBackground__S9lxG",progressBarLine:"ProgressBar_progressBarLine__a7FZb",progressBarSlider:"ProgressBar_progressBarSlider__oFBQJ",visible:"ProgressBar_visible__kkOqc",tooltip:"ProgressBar_tooltip__E8aUa",tooltipContainer:"ProgressBar_tooltipContainer__GjrK3"}}}]);